import{$ as l,R as U,_ as j}from"./bootstrap-Bf65uz2I.js";import"./css-C9o_OfXA.js";import{E as D,a as E}from"./el-table-JPhh2aff.js";import"./css-_QzOlLq8.js";/* empty css                   *//* empty css                  *//* empty css                     *//* empty css                        *//* empty css               */import{ElInput as x}from"./index-BjDsryRX.js";import{k as F,r as h,w as L,m,n as s,J as c,u as i,E as _,q as b,z as k,y as v,p as T,B as q}from"../jse/index-index-D3Xb8oT_.js";import"./index-CbSmxnRE.js";import"./util-B2mB0_6C.js";import"./index-bT9OJj6t.js";import"./_overRest-Bb9G3v08.js";import"./index-CMBjNRIa.js";import"./index-B3qAv2kq.js";import"./aria-DEUWDJ1E.js";import"./index-Bxb6QITi.js";import"./use-form-common-props-IzjzSHax.js";import"./merge-BysAs727.js";import"./_baseClone-trfKWgGN.js";import"./isArrayLikeObject-j3RaJGb0.js";import"./_baseSlice-DZe_dRSe.js";import"./_baseIteratee-rJjBrWyx.js";import"./castArray-BBset58W.js";import"./debounce-AsHllEOy.js";import"./toNumber-CvayJyp9.js";import"./index-p7kg-xKH.js";import"./event-BB_Ol6Sd.js";import"./use-form-item-DVWmmqeW.js";import"./index-Dg3fRnQE.js";import"./omit-CbyqVLxv.js";import"./index-pv0R11Cf.js";import"./raf-BVBe43_O.js";import"./index-C33Sf0pH.js";import"./index-m1ZP1zbM.js";const w={class:"tree-table-container"},J={class:"name-cell"},K={key:1,class:"editable-name"},M={class:"name-input-wrapper"},W={key:0},A={key:1},G=F({__name:"PluginRunParams",props:{modelValue:{default:()=>[]},editable:{type:Boolean,default:!1},isEditOutput:{type:Boolean,default:!1}},emits:["update:modelValue","submit"],setup(B,{expose:I,emit:S}){const p=B,C=S,d=h([]),g=h(["1"]),f=h({});L(()=>p.modelValue,o=>{o&&(d.value=o)},{immediate:!0,deep:!0});const y=o=>{const t=String(o.key).split("-").length-1;return t>0?t*20:0},V=()=>{C("update:modelValue",d.value)},N=(o,t)=>{g.value=t.map(e=>e.key)},P=()=>{const o={};let t=!0;const e=a=>{const{name:n,description:u,method:$,type:O}=a,r={};return n!=null&&n.trim()||(r.name=l("message.cannotBeEmpty.name"),t=!1),u!=null&&u.trim()||(r.description=l("message.cannotBeEmpty.description"),t=!1),z(a)&&!$&&!p.isEditOutput&&(r.method=l("message.cannotBeEmpty.method"),t=!1),O||(r.type=l("message.cannotBeEmpty.type"),t=!1),Object.keys(r).length>0&&(o[a.key]=r),a.children&&a.children.forEach(R=>{e(R)||(t=!1)}),t};return d.value.forEach(a=>{e(a)||(t=!1)}),f.value=o,t},z=o=>!o.key.includes("-");return I({handleSubmitParams:()=>{if(!P()){U.error(l("message.completeForm"));return}return d.value}}),(o,t)=>(s(),m("div",w,[c(i(D),{data:d.value,"row-key":"key",border:!0,size:"default","expand-row-keys":g.value,onExpandChange:N,style:{width:"100%","overflow-x":"auto"}},{default:_(()=>[c(i(E),{prop:"name",label:i(l)("pluginItem.parameterName"),"class-name":"first-column"},{default:_(({row:e})=>{var a,n;return[b("div",J,[p.editable?(s(),m("div",K,[b("div",M,[b("div",{style:k({width:`${y(e)}px`})},null,4),c(i(x),{modelValue:e.name,"onUpdate:modelValue":u=>e.name=u,disabled:e.name==="arrayItem",onInput:V},null,8,["modelValue","onUpdate:modelValue","disabled"])]),(a=f.value[e.key])!=null&&a.name?(s(),m("div",{key:0,class:"error-message",style:k({marginLeft:`${y(e)}px`})},v((n=f.value[e.key])==null?void 0:n.name),5)):T("",!0)])):(s(),m("div",{key:0,style:k({paddingLeft:`${y(e)}px`})},v(e.name||""),5))])]}),_:1},8,["label"]),c(i(E),{prop:"defaultValue",label:i(l)("plugin.parameterValue"),width:"150px"},{default:_(({row:e})=>[e.type==="Object"?(s(),m("span",W)):p.editable?(s(),q(i(x),{key:2,modelValue:e.defaultValue,"onUpdate:modelValue":a=>e.defaultValue=a,onInput:V,disabled:!p.editable},null,8,["modelValue","onUpdate:modelValue","disabled"])):(s(),m("span",A,v(e.defaultValue||""),1))]),_:1},8,["label"])]),_:1},8,["data","expand-row-keys"])]))}}),Oe=j(G,[["__scopeId","data-v-7734b943"]]);export{Oe as default};
