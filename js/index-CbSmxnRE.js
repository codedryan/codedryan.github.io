var ue=Object.defineProperty,ve=Object.defineProperties;var fe=Object.getOwnPropertyDescriptors;var F=Object.getOwnPropertySymbols;var me=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable;var M=Math.pow,Y=(r,o,a)=>o in r?ue(r,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[o]=a,j=(r,o)=>{for(var a in o||(o={}))me.call(o,a)&&Y(r,a,o[a]);if(F)for(var a of F(o))de.call(o,a)&&Y(r,a,o[a]);return r},J=(r,o)=>ve(r,fe(o));import{bm as V,an as G,ao as re,by as pe,bk as I,ax as be,bQ as he,ap as ge,i as ye,bo as L,bn as Se,bC as Q,d as Z,c1 as ee,aq as we}from"./bootstrap-Bf65uz2I.js";import{B as ze,r as Ee,G as k}from"./util-B2mB0_6C.js";import{k as W,i as ne,r as d,c as C,ak as _e,t as te,B as $,n as N,E as ie,I as Te,q as K,s as P,u as z,z as q,m as ce,J as ae,F as He,w as le,X as ke,G as Ce,av as Re,o as Le,A as oe,a6 as Ne,p as Pe,x as Be,V as Ae,aj as Oe}from"../jse/index-index-D3Xb8oT_.js";import{u as xe}from"./index-bT9OJj6t.js";const X=Symbol("scrollbarContextKey"),Me=V({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),We="Thumb",De=W({__name:"thumb",props:Me,setup(r){const o=r,a=ne(X),l=re("scrollbar");a||pe(We,"can not inject scrollbar context");const v=d(),p=d(),y=d({}),b=d(!1);let i=!1,c=!1,m=0,S=0,s=ye?document.onselectstart:null;const e=C(()=>ze[o.vertical?"vertical":"horizontal"]),h=C(()=>Ee({size:o.size,move:o.move,bar:e.value})),g=C(()=>M(v.value[e.value.offset],2)/a.wrapElement[e.value.scrollSize]/o.ratio/p.value[e.value.offset]),T=u=>{var w;if(u.stopPropagation(),u.ctrlKey||[1,2].includes(u.button))return;(w=window.getSelection())==null||w.removeAllRanges(),_(u);const f=u.currentTarget;f&&(y.value[e.value.axis]=f[e.value.offset]-(u[e.value.client]-f.getBoundingClientRect()[e.value.direction]))},E=u=>{if(!p.value||!v.value||!a.wrapElement)return;const w=Math.abs(u.target.getBoundingClientRect()[e.value.direction]-u[e.value.client]),f=p.value[e.value.offset]/2,t=(w-f)*100*g.value/v.value[e.value.offset];a.wrapElement[e.value.scroll]=t*a.wrapElement[e.value.scrollSize]/100},_=u=>{u.stopImmediatePropagation(),i=!0,m=a.wrapElement.scrollHeight,S=a.wrapElement.scrollWidth,document.addEventListener("mousemove",B),document.addEventListener("mouseup",R),s=document.onselectstart,document.onselectstart=()=>!1},B=u=>{if(!v.value||!p.value||i===!1)return;const w=y.value[e.value.axis];if(!w)return;const f=(v.value.getBoundingClientRect()[e.value.direction]-u[e.value.client])*-1,t=p.value[e.value.offset]-w,n=(f-t)*100*g.value/v.value[e.value.offset];e.value.scroll==="scrollLeft"?a.wrapElement[e.value.scroll]=n*S/100:a.wrapElement[e.value.scroll]=n*m/100},R=()=>{i=!1,y.value[e.value.axis]=0,document.removeEventListener("mousemove",B),document.removeEventListener("mouseup",R),O(),c&&(b.value=!1)},D=()=>{c=!1,b.value=!!o.size},A=()=>{c=!0,b.value=i};_e(()=>{O(),document.removeEventListener("mouseup",R)});const O=()=>{document.onselectstart!==s&&(document.onselectstart=s)};return I(te(a,"scrollbarElement"),"mousemove",D),I(te(a,"scrollbarElement"),"mouseleave",A),(u,w)=>(N(),$(ge,{name:z(l).b("fade"),persisted:""},{default:ie(()=>[Te(K("div",{ref_key:"instance",ref:v,class:P([z(l).e("bar"),z(l).is(z(e).key)]),onMousedown:E,onClick:be(()=>{},["stop"])},[K("div",{ref_key:"thumb",ref:p,class:P(z(l).e("thumb")),style:q(z(h)),onMousedown:T},null,38)],42,["onClick"]),[[he,u.always||b.value]])]),_:1},8,["name"]))}});var se=G(De,[["__file","thumb.vue"]]);const je=V({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),Ie=W({__name:"bar",props:je,setup(r,{expose:o}){const a=r,l=ne(X),v=d(0),p=d(0),y=d(""),b=d(""),i=d(1),c=d(1);return o({handleScroll:s=>{if(s){const e=s.offsetHeight-k,h=s.offsetWidth-k;p.value=s.scrollTop*100/e*i.value,v.value=s.scrollLeft*100/h*c.value}},update:()=>{const s=l==null?void 0:l.wrapElement;if(!s)return;const e=s.offsetHeight-k,h=s.offsetWidth-k,g=M(e,2)/s.scrollHeight,T=M(h,2)/s.scrollWidth,E=Math.max(g,a.minSize),_=Math.max(T,a.minSize);i.value=g/(e-g)/(E/(e-E)),c.value=T/(h-T)/(_/(h-_)),b.value=E+k<e?`${E}px`:"",y.value=_+k<h?`${_}px`:""}}),(s,e)=>(N(),ce(He,null,[ae(se,{move:v.value,ratio:c.value,size:y.value,always:s.always},null,8,["move","ratio","size","always"]),ae(se,{move:p.value,ratio:i.value,size:b.value,vertical:"",always:s.always},null,8,["move","ratio","size","always"])],64))}});var $e=G(Ie,[["__file","bar.vue"]]);const Ke=V(j({distance:{type:Number,default:0},height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:Boolean,wrapStyle:{type:Se([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String},xe(["ariaLabel","ariaOrientation"]))),qe={"end-reached":r=>["left","right","top","bottom"].includes(r),scroll:({scrollTop:r,scrollLeft:o})=>[r,o].every(L)},U="ElScrollbar",Ue=W({name:U}),Ve=W(J(j({},Ue),{props:Ke,emits:qe,setup(r,{expose:o,emit:a}){const l=r,v=re("scrollbar");let p,y,b,i=0,c=0,m="";const S={bottom:!1,top:!1,right:!1,left:!1},s=d(),e=d(),h=d(),g=d(),T=C(()=>{const t={};return l.height&&(t.height=Q(l.height)),l.maxHeight&&(t.maxHeight=Q(l.maxHeight)),[l.wrapStyle,t]}),E=C(()=>[l.wrapClass,v.e("wrap"),{[v.em("wrap","hidden-default")]:!l.native}]),_=C(()=>[v.e("view"),l.viewClass]),B=t=>{var n;return(n=S[t])!=null?n:!1},R={top:"bottom",bottom:"top",left:"right",right:"left"},D=t=>{const n=R[m];if(!n)return;const H=t[m],x=t[n];H&&!S[m]&&(S[m]=!0),!x&&S[n]&&(S[n]=!1)},A=()=>{var t;if(e.value){(t=g.value)==null||t.handleScroll(e.value);const n=i,H=c;i=e.value.scrollTop,c=e.value.scrollLeft;const x={bottom:i+e.value.clientHeight>=e.value.scrollHeight-l.distance,top:i<=l.distance&&n!==0,right:c+e.value.clientWidth>=e.value.scrollWidth-l.distance&&H!==c,left:c<=l.distance&&H!==0};if(a("scroll",{scrollTop:i,scrollLeft:c}),n!==i&&(m=i>n?"bottom":"top"),H!==c&&(m=c>H?"right":"left"),l.distance>0){if(B(m))return;D(x)}x[m]&&a("end-reached",m)}};function O(t,n){Oe(t)?e.value.scrollTo(t):L(t)&&L(n)&&e.value.scrollTo(t,n)}const u=t=>{if(!L(t)){Z(U,"value must be a number");return}e.value.scrollTop=t},w=t=>{if(!L(t)){Z(U,"value must be a number");return}e.value.scrollLeft=t},f=()=>{var t;(t=g.value)==null||t.update(),S[m]=!1};return le(()=>l.noresize,t=>{t?(p==null||p(),y==null||y(),b==null||b()):({stop:p}=ee(h,f),{stop:y}=ee(e,f),b=I("resize",f))},{immediate:!0}),le(()=>[l.maxHeight,l.height],()=>{l.native||oe(()=>{var t;f(),e.value&&((t=g.value)==null||t.handleScroll(e.value))})}),ke(X,Ce({scrollbarElement:s,wrapElement:e})),Re(()=>{e.value&&(e.value.scrollTop=i,e.value.scrollLeft=c)}),Le(()=>{l.native||oe(()=>{f()})}),Ne(()=>f()),o({wrapRef:e,update:f,scrollTo:O,setScrollTop:u,setScrollLeft:w,handleScroll:A}),(t,n)=>(N(),ce("div",{ref_key:"scrollbarRef",ref:s,class:P(z(v).b())},[K("div",{ref_key:"wrapRef",ref:e,class:P(z(E)),style:q(z(T)),tabindex:t.tabindex,onScroll:A},[(N(),$(Ae(t.tag),{id:t.id,ref_key:"resizeRef",ref:h,class:P(z(_)),style:q(t.viewStyle),role:t.role,"aria-label":t.ariaLabel,"aria-orientation":t.ariaOrientation},{default:ie(()=>[Be(t.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),t.native?Pe("v-if",!0):(N(),$($e,{key:0,ref_key:"barRef",ref:g,always:t.always,"min-size":t.minSize},null,8,["always","min-size"]))],2))}}));var Ge=G(Ve,[["__file","scrollbar.vue"]]);const Ze=we(Ge);export{Ze as E,qe as s};
