var Q=Object.defineProperty;var W=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var x=(r,l,n)=>l in r?Q(r,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[l]=n,P=(r,l)=>{for(var n in l||(l={}))U.call(l,n)&&x(r,n,l[n]);if(W)for(var n of W(l))q.call(l,n)&&x(r,n,l[n]);return r};import{a9 as I,$ as i,Z as O,a3 as z,a8 as A,Y as F,M as w,R as E}from"./bootstrap-Bf65uz2I.js";import"./css-gf8D6QlL.js";import{E as J,a as Y,b as S}from"./el-dropdown-menu-v2KdT220.js";/* empty css                  *//* empty css                     */import{E as Z}from"./el-message-box-B8o3mhYx.js";import"./css-C9o_OfXA.js";import"./el-overlay-Zuw8glOl.js";import"./css-DCrZaNHy.js";import{E as j,a as m}from"./el-table-JPhh2aff.js";import"./css-_QzOlLq8.js";/* empty css                   *//* empty css                        *//* empty css               */import{H as G}from"./HeaderSearch-Dj9rqjlr.js";import{_ as K}from"./PageData.vue_vue_type_script_setup_true_lang-DfbAOXk_.js";import{_ as X}from"./SensitiveWordPackageModal.vue_vue_type_script_setup_true_lang-BkhKuTwy.js";import{ElSwitch as ee}from"./index-CHf9SThW.js";import{ElButton as v}from"./index-oBOAcXl-.js";import{k as ae,r as h,S as te,H as oe,m as b,n as _,J as t,q as V,E as s,u as e,L as d,y as u,I as y,B as se}from"../jse/index-index-D3Xb8oT_.js";const ie={class:"flex h-full flex-col gap-6"},le={class:"bg-background border-border flex-1 rounded-lg border p-5"},ne={class:"flex items-center gap-3"},Ee=ae({__name:"SensitiveWordPackageList",emits:["viewSensitiveWordDetail"],setup(r,{emit:l}){const n=h(),k=h(),D=h();I();function C(a){a==null||a.resetFields(),k.value.setQuery({})}function B(a){D.value.openDialog(P({},a))}function $(a){Z.confirm(i("message.deleteAlert"),i("message.noticeTitle"),{confirmButtonText:i("message.ok"),cancelButtonText:i("message.cancel"),type:"warning",beforeClose:(f,c,g)=>{f==="confirm"?(c.confirmButtonLoading=!0,w.post("/api/v1/sensitiveWordPackage/remove",{id:a.id}).then(o=>{c.confirmButtonLoading=!1,o.errorCode===0&&(E.success(o.message),C(n.value),g())}).catch(()=>{c.confirmButtonLoading=!1})):g()}}).catch(()=>{})}const N=l,R=[{key:"create",text:i("button.add"),icon:te(O),type:"primary",data:{action:"create"},permission:"/api/v1/sensitiveWordPackage/save"}],T=a=>{k.value.setQuery({packageName:a,isQueryOr:!0})},L=a=>{w.post("/api/v1/sensitiveWordPackage/update",{id:a.id,status:a.status}).then(f=>{f.errorCode===0&&E.success(i("message.updateOkMessage"))})},M=a=>{N("viewSensitiveWordDetail",a)},H=a=>{a.key==="create"&&B({})};return(a,f)=>{const c=oe("access");return _(),b("div",ie,[t(X,{ref_key:"saveDialog",ref:D,onReload:C},null,512),t(G,{buttons:R,onSearch:T,onButtonClick:H}),V("div",le,[t(K,{ref_key:"pageDataRef",ref:k,"page-url":"/api/v1/sensitiveWordPackage/page","page-size":10},{default:s(({pageList:g})=>[t(e(j),{data:g,border:""},{default:s(()=>[t(e(m),{prop:"packageName",label:e(i)("sensitiveWordPackage.packageName")},{default:s(({row:o})=>[d(u(o.packageName),1)]),_:1},8,["label"]),t(e(m),{prop:"packageDesc",label:e(i)("sensitiveWordPackage.packageDesc")},{default:s(({row:o})=>[d(u(o.packageDesc),1)]),_:1},8,["label"]),t(e(m),{prop:"status",label:e(i)("sensitiveWordPackage.status")},{default:s(({row:o})=>[t(e(ee),{modelValue:o.status,"onUpdate:modelValue":p=>o.status=p,onChange:p=>L(o)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1},8,["label"]),t(e(m),{prop:"created",label:e(i)("sensitiveWordPackage.created")},{default:s(({row:o})=>[d(u(o.created),1)]),_:1},8,["label"]),t(e(m),{label:e(i)("common.handle"),width:"90",align:"right"},{default:s(({row:o})=>[V("div",ne,[y((_(),se(e(v),{link:"",type:"primary",onClick:p=>M(o)},{default:s(()=>[d(u(e(i)("button.view")),1)]),_:1},8,["onClick"])),[[c,"/api/v1/sensitiveWordPackage/query","code"]]),t(e(J),null,{dropdown:s(()=>[t(e(Y),null,{default:s(()=>[y((_(),b("div",null,[t(e(S),{onClick:p=>B(o)},{default:s(()=>[t(e(v),{type:"primary",icon:e(A),link:""},{default:s(()=>[d(u(e(i)("button.edit")),1)]),_:1},8,["icon"])]),_:1},8,["onClick"])])),[[c,"/api/v1/sensitiveWordPackage/save","code"]]),y((_(),b("div",null,[t(e(S),{onClick:p=>$(o)},{default:s(()=>[t(e(v),{type:"danger",icon:e(F),link:""},{default:s(()=>[d(u(e(i)("button.delete")),1)]),_:1},8,["icon"])]),_:1},8,["onClick"])])),[[c,"/api/v1/sensitiveWordPackage/remove","code"]])]),_:2},1024)]),default:s(()=>[t(e(v),{link:"",icon:e(z)},null,8,["icon"])]),_:2},1024)])]),_:1},8,["label"])]),_:1},8,["data"])]),_:1},512)])])}}});export{Ee as _};
