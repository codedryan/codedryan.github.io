var V=Object.defineProperty;var w=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var B=(p,r,l)=>r in p?V(p,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):p[r]=l,x=(p,r)=>{for(var l in r||(r={}))O.call(r,l)&&B(p,l,r[l]);if(w)for(var l of w(r))U.call(r,l)&&B(p,l,r[l]);return p};import{M as C,V as R,Z as q,$ as i,O as z,a3 as A,Y as H,R as J}from"./bootstrap-Bf65uz2I.js";import"./css-gf8D6QlL.js";import{E as Y,a as Z,b as j}from"./el-dropdown-menu-v2KdT220.js";/* empty css                  *//* empty css                     */import{E as F}from"./el-message-box-B8o3mhYx.js";import"./css-C9o_OfXA.js";import"./el-overlay-Zuw8glOl.js";import{a as m,E as G}from"./el-table-JPhh2aff.js";import"./css-_QzOlLq8.js";/* empty css                   *//* empty css                        *//* empty css               */import{u as K}from"./dict-CsbZy8Qf.js";import{_ as P}from"./SysMenuModal.vue_vue_type_script_setup_true_lang-CGj95CPT.js";import{ElButton as b}from"./index-oBOAcXl-.js";import{k as Q,o as W,r as v,H as I,m as N,n as d,J as t,q as M,I as T,B as h,E as a,L as n,u as e,y as s,V as X}from"../jse/index-index-D3Xb8oT_.js";import"./index-CMBjNRIa.js";import"./index-bT9OJj6t.js";import"./_overRest-Bb9G3v08.js";import"./index-B3qAv2kq.js";import"./aria-DEUWDJ1E.js";import"./index-Bxb6QITi.js";import"./use-form-common-props-IzjzSHax.js";import"./index-CbSmxnRE.js";import"./util-B2mB0_6C.js";import"./castArray-BBset58W.js";import"./refs-D6FW0B1r.js";import"./index-BjDsryRX.js";import"./event-BB_Ol6Sd.js";import"./index-C33Sf0pH.js";import"./use-form-item-DVWmmqeW.js";import"./index-m1ZP1zbM.js";import"./validator-D2YZey62.js";import"./vnode-DysYOGZN.js";import"./scroll-C2492Iw_.js";import"./merge-BysAs727.js";import"./_baseClone-trfKWgGN.js";import"./isArrayLikeObject-j3RaJGb0.js";import"./_baseSlice-DZe_dRSe.js";import"./_baseIteratee-rJjBrWyx.js";import"./debounce-AsHllEOy.js";import"./toNumber-CvayJyp9.js";import"./index-p7kg-xKH.js";import"./index-Dg3fRnQE.js";import"./omit-CbyqVLxv.js";import"./index-pv0R11Cf.js";import"./raf-BVBe43_O.js";import"./el-dialog-CAR1-R4U.js";/* empty css                */import"./el-form-item-8FQp7Cs4.js";/* empty css                  */import"./DictSelect-DdOvS-6R.js";import"./index-DcZY4wgD.js";import"./index-DGdiZ7pE.js";import"./useProps-DNCnrLfW.js";import"./_baseFindIndex-D7XfJLKM.js";import"./strings-CGsg9AfI.js";import"./clamp-CeuJyDnc.js";const ee={class:"flex h-full flex-col gap-6 p-6"},oe={class:"bg-background border-border flex-1 rounded-lg border p-5"},te={class:"flex items-center gap-3"},mo=Q({__name:"SysMenuList",setup(p){W(()=>{E(),L()});const r=v(),l=v([]),g=v(!1),f=K();function L(){f.fetchDictionary("menuType"),f.fetchDictionary("yesOrNo")}function D(){E()}function k(u){r.value.openDialog(x({},u))}function S(u){F.confirm(i("message.deleteAlert"),i("message.noticeTitle"),{confirmButtonText:i("message.ok"),cancelButtonText:i("message.cancel"),type:"warning",beforeClose:(_,c,y)=>{_==="confirm"?(c.confirmButtonLoading=!0,C.post("/api/v1/sysMenu/remove",{id:u.id}).then(o=>{c.confirmButtonLoading=!1,o.errorCode===0&&(J.success(o.message),D(),y())}).catch(()=>{c.confirmButtonLoading=!1})):y()}}).catch(()=>{})}function E(){g.value=!0,C.get("/api/v1/sysMenu/list",{params:{asTree:!0}}).then(u=>{g.value=!1,l.value=u.data})}return(u,_)=>{const c=I("access"),y=I("loading");return d(),N("div",ee,[t(P,{ref_key:"saveDialog",ref:r,onReload:D},null,512),M("div",null,[T((d(),h(e(b),{onClick:_[0]||(_[0]=o=>k({})),type:"primary"},{default:a(()=>[t(e(R),{class:"mr-1"},{default:a(()=>[t(e(q))]),_:1}),n(" "+s(e(i)("button.add")),1)]),_:1})),[[c,"/api/v1/sysMenu/save","code"]])]),M("div",oe,[T((d(),h(e(G),{data:l.value,"row-key":"id"},{default:a(()=>[t(e(m),{prop:"menuType",label:e(i)("sysMenu.menuType")},{default:a(({row:o})=>[n(s(e(f).getDictLabel("menuType",o.menuType)),1)]),_:1},8,["label"]),t(e(m),{prop:"menuTitle",label:e(i)("sysMenu.menuTitle")},{default:a(({row:o})=>[n(s(e(i)(o.menuTitle)),1)]),_:1},8,["label"]),t(e(m),{prop:"menuUrl",label:e(i)("sysMenu.menuUrl")},{default:a(({row:o})=>[n(s(o.menuUrl),1)]),_:1},8,["label"]),t(e(m),{prop:"component",label:e(i)("sysMenu.component")},{default:a(({row:o})=>[n(s(o.component),1)]),_:1},8,["label"]),t(e(m),{prop:"menuIcon",label:e(i)("sysMenu.menuIcon")},{default:a(({row:o})=>[(d(),h(X(e(z)(o.menuIcon)),{class:"size-5"}))]),_:1},8,["label"]),t(e(m),{prop:"isShow",label:e(i)("sysMenu.isShow")},{default:a(({row:o})=>[n(s(e(f).getDictLabel("yesOrNo",o.isShow)),1)]),_:1},8,["label"]),t(e(m),{prop:"permissionTag",label:e(i)("sysMenu.permissionTag")},{default:a(({row:o})=>[n(s(o.permissionTag),1)]),_:1},8,["label"]),t(e(m),{prop:"sortNo",label:e(i)("sysMenu.sortNo")},{default:a(({row:o})=>[n(s(o.sortNo),1)]),_:1},8,["label"]),t(e(m),{prop:"created",label:e(i)("sysMenu.created")},{default:a(({row:o})=>[n(s(o.created),1)]),_:1},8,["label"]),t(e(m),{label:e(i)("common.handle"),width:"90",align:"right"},{default:a(({row:o})=>[M("div",te,[t(e(b),{link:"",type:"primary",onClick:$=>k(o)},{default:a(()=>[n(s(e(i)("button.edit")),1)]),_:1},8,["onClick"]),t(e(Y),null,{dropdown:a(()=>[t(e(Z),null,{default:a(()=>[T((d(),N("div",null,[t(e(j),{onClick:$=>S(o)},{default:a(()=>[t(e(b),{type:"danger",icon:e(H),link:""},{default:a(()=>[n(s(e(i)("button.delete")),1)]),_:1},8,["icon"])]),_:1},8,["onClick"])])),[[c,"/api/v1/sysMenu/remove","code"]])]),_:2},1024)]),default:a(()=>[t(e(b),{link:"",icon:e(A)},null,8,["icon"])]),_:2},1024)])]),_:1},8,["label"])]),_:1},8,["data"])),[[y,g.value]])])])}}});export{mo as default};
