import{$ as d,a2 as V,M as B,R as g}from"./bootstrap-Bf65uz2I.js";import"./css-gf8D6QlL.js";/* empty css                */import{E as F,a as k}from"./el-form-item-8FQp7Cs4.js";import"./css-C9o_OfXA.js";import{S as I}from"./ShowJson-BAGbKM0P.js";import{ElInput as C}from"./index-BjDsryRX.js";import{ElButton as N}from"./index-oBOAcXl-.js";import{k as R,r,m as _,n as s,J as t,q as x,u as a,E as n,F as S,N as q,B as w,p as L,L as T,y as b}from"../jse/index-index-D3Xb8oT_.js";const J={class:"mb-2.5 mt-2.5 font-semibold"},H=R({__name:"SingleRun",props:{workflowId:{},node:{}},setup(i){const p=i,c=r(),o=r({}),u=r(!1),f=r("");function y(){var m;(m=c.value)==null||m.validate(v=>{if(v){const l={workflowId:p.workflowId,nodeId:p.node.id,variables:o.value};u.value=!0,B.post("/api/v1/workflow/singleRun",l).then(e=>{u.value=!1,f.value=e.data,e.errorCode===0?g.success(e.message):g.error(e.message)})}})}return(m,v)=>(s(),_("div",null,[t(a(F),{"label-position":"top",ref_key:"singleRunForm",ref:c,model:o.value},{default:n(()=>{var l;return[(s(!0),_(S,null,q((l=i.node)==null?void 0:l.data.parameters,(e,h)=>(s(),w(a(k),{prop:e.name,key:h,label:e.description||e.name,rules:[{required:!0,message:a(d)("message.required")}]},{default:n(()=>[e.formType==="input"||!e.formType?(s(),w(a(C),{key:0,modelValue:o.value[e.name],"onUpdate:modelValue":E=>o.value[e.name]=E,placeholder:e.formPlaceholder},null,8,["modelValue","onUpdate:modelValue","placeholder"])):L("",!0)]),_:2},1032,["prop","label","rules"]))),128)),t(a(k),null,{default:n(()=>[t(a(N),{type:"primary",onClick:y,loading:u.value,icon:a(V)},{default:n(()=>[T(b(a(d)("button.run")),1)]),_:1},8,["loading","icon"])]),_:1})]}),_:1},8,["model"]),x("div",J,b(a(d)("workflow.result"))+"ï¼š ",1),t(I,{value:f.value},null,8,["value"])]))}});export{H as _};
