import{u as f}from"./index-Bxb6QITi.js";import{f as m,a as I}from"./use-form-common-props-IzjzSHax.js";import{i as c,r as i,c as w,o as y,w as h,t as F,a as L,g as E}from"../jse/index-index-D3Xb8oT_.js";const B=()=>{const n=c(m,void 0),u=c(I,void 0);return{form:n,formItem:u}},R=(n,{formItemContext:u,disableIdGeneration:t,disableIdManagement:l})=>{t||(t=i(!1)),l||(l=i(!1));const o=E(),d=()=>{let e=o==null?void 0:o.parent;for(;e;){if(e.type.name==="ElFormItem")return!1;if(e.type.name==="ElLabelWrap")return!0;e=e.parent}return!1},a=i();let s;const p=w(()=>{var e;return!!(!(n.label||n.ariaLabel)&&u&&u.inputIds&&((e=u.inputIds)==null?void 0:e.length)<=1)});return y(()=>{s=h([F(n,"id"),t],([e,v])=>{const r=e!=null?e:v?void 0:f().value;r!==a.value&&(u!=null&&u.removeInputId&&!d()&&(a.value&&u.removeInputId(a.value),!(l!=null&&l.value)&&!v&&r&&u.addInputId(r)),a.value=r)},{immediate:!0})}),L(()=>{s&&s(),u!=null&&u.removeInputId&&a.value&&u.removeInputId(a.value)}),{isLabeledByFormItem:p,inputId:a}};export{R as a,B as u};
