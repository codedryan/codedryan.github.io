var x=Object.defineProperty,ee=Object.defineProperties;var ae=Object.getOwnPropertyDescriptors;var L=Object.getOwnPropertySymbols;var ie=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable;var U=(i,c,n)=>c in i?x(i,c,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[c]=n,T=(i,c)=>{for(var n in c||(c={}))ie.call(c,n)&&U(i,n,c[n]);if(L)for(var n of L(c))te.call(c,n)&&U(i,n,c[n]);return i},$=(i,c)=>ee(i,ae(c));import{bA as w,bo as C,bm as ne,bn as oe,bB as V,ao as se,bC as le,X as ce,V as p,bD as re,ax as ue,by as de,d as q,an as ve,aq as fe}from"./bootstrap-Bf65uz2I.js";import{i as me}from"./validator-D2YZey62.js";import{u as pe}from"./index-bT9OJj6t.js";import{I as P,C as A,U as z}from"./event-BB_Ol6Sd.js";import{a8 as E,k as J,c as f,r as he,O as be,w as R,o as ye,m,n as t,q as N,p as u,u as a,s as v,B as d,E as h,V as y,y as B,x as G,J as Ie,z as ke,A as ge,a9 as H}from"../jse/index-index-D3Xb8oT_.js";import{u as Ve,a as we}from"./use-form-item-DVWmmqeW.js";import{u as Se,b as Te}from"./use-form-common-props-IzjzSHax.js";import"./_overRest-Bb9G3v08.js";import"./index-Bxb6QITi.js";const Ce=ne(T({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:me},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:V},activeActionIcon:{type:V},activeIcon:{type:V},inactiveIcon:{type:V},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:oe(Function)},id:String,tabindex:{type:[String,Number]}},pe(["ariaLabel"]))),Ee={[z]:i=>w(i)||E(i)||C(i),[A]:i=>w(i)||E(i)||C(i),[P]:i=>w(i)||E(i)||C(i)},D="ElSwitch",Ne=J({name:D}),Be=J($(T({},Ne),{props:Ce,emits:Ee,setup(i,{expose:c,emit:n}){const s=i,{formItem:I}=Ve(),W=Se(),o=se("switch"),{inputId:X}=we(s,{formItemContext:I}),k=Te(f(()=>s.loading)),K=he(s.modelValue!==!1),b=be(),j=f(()=>[o.b(),o.m(W.value),o.is("disabled",k.value),o.is("checked",l.value)]),Q=f(()=>[o.e("label"),o.em("label","left"),o.is("active",!l.value)]),Y=f(()=>[o.e("label"),o.em("label","right"),o.is("active",l.value)]),Z=f(()=>({width:le(s.width)}));R(()=>s.modelValue,()=>{K.value=!0});const O=f(()=>K.value?s.modelValue:!1),l=f(()=>O.value===s.activeValue);[s.activeValue,s.inactiveValue].includes(O.value)||(n(z,s.inactiveValue),n(A,s.inactiveValue),n(P,s.inactiveValue)),R(l,e=>{var r;b.value.checked=e,s.validateEvent&&((r=I==null?void 0:I.validate)==null||r.call(I,"change").catch(M=>q(M)))});const g=()=>{const e=l.value?s.inactiveValue:s.activeValue;n(z,e),n(A,e),n(P,e),ge(()=>{b.value.checked=l.value})},F=()=>{if(k.value)return;const{beforeChange:e}=s;if(!e){g();return}const r=e();[H(r),w(r)].includes(!0)||de(D,"beforeChange must return type `Promise<boolean>` or `boolean`"),H(r)?r.then(S=>{S&&g()}).catch(S=>{q(D,`some error occurred: ${S}`)}):r&&g()},_=()=>{var e,r;(r=(e=b.value)==null?void 0:e.focus)==null||r.call(e)};return ye(()=>{b.value.checked=l.value}),c({focus:_,checked:l}),(e,r)=>(t(),m("div",{class:v(a(j)),onClick:ue(F,["prevent"])},[N("input",{id:a(X),ref_key:"input",ref:b,class:v(a(o).e("input")),type:"checkbox",role:"switch","aria-checked":a(l),"aria-disabled":a(k),"aria-label":e.ariaLabel,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:a(k),tabindex:e.tabindex,onChange:g,onKeydown:ce(F,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(t(),m("span",{key:0,class:v(a(Q))},[e.inactiveIcon?(t(),d(a(p),{key:0},{default:h(()=>[(t(),d(y(e.inactiveIcon)))]),_:1})):u("v-if",!0),!e.inactiveIcon&&e.inactiveText?(t(),m("span",{key:1,"aria-hidden":a(l)},B(e.inactiveText),9,["aria-hidden"])):u("v-if",!0)],2)):u("v-if",!0),N("span",{class:v(a(o).e("core")),style:ke(a(Z))},[e.inlinePrompt?(t(),m("div",{key:0,class:v(a(o).e("inner"))},[e.activeIcon||e.inactiveIcon?(t(),d(a(p),{key:0,class:v(a(o).is("icon"))},{default:h(()=>[(t(),d(y(a(l)?e.activeIcon:e.inactiveIcon)))]),_:1},8,["class"])):e.activeText||e.inactiveText?(t(),m("span",{key:1,class:v(a(o).is("text")),"aria-hidden":!a(l)},B(a(l)?e.activeText:e.inactiveText),11,["aria-hidden"])):u("v-if",!0)],2)):u("v-if",!0),N("div",{class:v(a(o).e("action"))},[e.loading?(t(),d(a(p),{key:0,class:v(a(o).is("loading"))},{default:h(()=>[Ie(a(re))]),_:1},8,["class"])):a(l)?G(e.$slots,"active-action",{key:1},()=>[e.activeActionIcon?(t(),d(a(p),{key:0},{default:h(()=>[(t(),d(y(e.activeActionIcon)))]),_:1})):u("v-if",!0)]):a(l)?u("v-if",!0):G(e.$slots,"inactive-action",{key:2},()=>[e.inactiveActionIcon?(t(),d(a(p),{key:0},{default:h(()=>[(t(),d(y(e.inactiveActionIcon)))]),_:1})):u("v-if",!0)])],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(t(),m("span",{key:1,class:v(a(Y))},[e.activeIcon?(t(),d(a(p),{key:0},{default:h(()=>[(t(),d(y(e.activeIcon)))]),_:1})):u("v-if",!0),!e.activeIcon&&e.activeText?(t(),m("span",{key:1,"aria-hidden":!a(l)},B(e.activeText),9,["aria-hidden"])):u("v-if",!0)],2)):u("v-if",!0)],10,["onClick"]))}}));var Pe=ve(Be,[["__file","switch.vue"]]);const qe=fe(Pe);export{qe as ElSwitch,qe as default,Ee as switchEmits,Ce as switchProps};
