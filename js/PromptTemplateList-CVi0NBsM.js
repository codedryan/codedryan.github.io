var R=Object.defineProperty;var T=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var B=(s,r,e)=>r in s?R(s,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[r]=e,D=(s,r)=>{for(var e in r||(r={}))P.call(r,e)&&B(s,e,r[e]);if(T)for(var e of T(r))S.call(r,e)&&B(s,e,r[e]);return s};import{$ as m,Z as M,a3 as H,Y as I,M as N,R as V,_ as Q}from"./bootstrap-Bf65uz2I.js";import"./css-gf8D6QlL.js";import{E as q,a as z,b as A}from"./el-dropdown-menu-v2KdT220.js";/* empty css                  *//* empty css                     */import{E as F}from"./el-message-box-B8o3mhYx.js";import"./css-C9o_OfXA.js";import"./el-overlay-Zuw8glOl.js";import{E as J,a as u}from"./el-table-JPhh2aff.js";import"./css-_QzOlLq8.js";/* empty css                   *//* empty css                        *//* empty css               */import{H as Y}from"./HeaderSearch-Dj9rqjlr.js";import{_ as Z}from"./PageData.vue_vue_type_script_setup_true_lang-DfbAOXk_.js";import{_ as j}from"./PromptTemplateModal.vue_vue_type_script_setup_true_lang-DhBWsnnv.js";import{ElButton as _}from"./index-oBOAcXl-.js";import{k as G,r as v,S as K,H as O,m as g,n as b,J as o,q as h,E as i,u as t,L as f,y as c,I as C}from"../jse/index-index-D3Xb8oT_.js";import"./index-CMBjNRIa.js";import"./index-bT9OJj6t.js";import"./_overRest-Bb9G3v08.js";import"./index-B3qAv2kq.js";import"./aria-DEUWDJ1E.js";import"./index-Bxb6QITi.js";import"./use-form-common-props-IzjzSHax.js";import"./index-CbSmxnRE.js";import"./util-B2mB0_6C.js";import"./castArray-BBset58W.js";import"./refs-D6FW0B1r.js";import"./index-BjDsryRX.js";import"./event-BB_Ol6Sd.js";import"./index-C33Sf0pH.js";import"./use-form-item-DVWmmqeW.js";import"./index-m1ZP1zbM.js";import"./validator-D2YZey62.js";import"./vnode-DysYOGZN.js";import"./scroll-C2492Iw_.js";import"./merge-BysAs727.js";import"./_baseClone-trfKWgGN.js";import"./isArrayLikeObject-j3RaJGb0.js";import"./_baseSlice-DZe_dRSe.js";import"./_baseIteratee-rJjBrWyx.js";import"./debounce-AsHllEOy.js";import"./toNumber-CvayJyp9.js";import"./index-p7kg-xKH.js";import"./index-Dg3fRnQE.js";import"./omit-CbyqVLxv.js";import"./index-pv0R11Cf.js";import"./raf-BVBe43_O.js";import"./hasPermission-CIdLHqw4.js";import"./el-empty-CDAlv280.js";import"./el-pagination-W2lJTIgw.js";import"./index-DcZY4wgD.js";import"./index-DGdiZ7pE.js";import"./useProps-DNCnrLfW.js";import"./_baseFindIndex-D7XfJLKM.js";import"./strings-CGsg9AfI.js";import"./clamp-CeuJyDnc.js";/* empty css                  */import"./el-dialog-CAR1-R4U.js";/* empty css                */import"./el-form-item-8FQp7Cs4.js";const U={class:"flex h-full flex-col gap-6 p-6"},W={class:"bg-background border-border flex-1 rounded-lg border p-5"},X={class:"content-ellipsis"},tt={class:"flex items-center gap-3"},et=G({__name:"PromptTemplateList",setup(s){const r=v(),e=v(),k=v();function y(p){p==null||p.resetFields(),e.value.setQuery({})}function x(p){k.value.openDialog(D({},p))}function w(p){F.confirm(m("message.deleteAlert"),m("message.noticeTitle"),{confirmButtonText:m("message.ok"),cancelButtonText:m("message.cancel"),type:"warning",beforeClose:(d,l,n)=>{d==="confirm"?(l.confirmButtonLoading=!0,N.post("/api/v1/promptTemplate/remove",{id:p.id}).then(a=>{l.confirmButtonLoading=!1,a.errorCode===0&&(V.success(a.message),y(r.value),n())}).catch(()=>{l.confirmButtonLoading=!1})):n()}}).catch(()=>{})}const E=[{key:"create",text:m("button.add"),icon:K(M),type:"primary",data:{action:"create"},permission:"/api/v1/sysPromptTemplate/save"}],$=p=>{e.value.setQuery({title:p})};return(p,d)=>{const l=O("access");return b(),g("div",U,[o(j,{ref_key:"saveDialog",ref:k,onReload:y},null,512),o(Y,{buttons:E,onSearch:$,onButtonClick:d[0]||(d[0]=n=>x({}))}),h("div",W,[o(Z,{ref_key:"pageDataRef",ref:e,"page-url":"/api/v1/sysPromptTemplate/page","page-size":10},{default:i(({pageList:n})=>[o(t(J),{data:n,border:""},{default:i(()=>[o(t(u),{prop:"title",label:"标题"},{default:i(({row:a})=>[f(c(a.title),1)]),_:1}),o(t(u),{prop:"description",label:"描述"},{default:i(({row:a})=>[f(c(a.description),1)]),_:1}),o(t(u),{prop:"content",label:"提示词"},{default:i(({row:a})=>[h("div",X,c(a.content),1)]),_:1}),o(t(u),{label:t(m)("common.handle"),width:"90",align:"right"},{default:i(({row:a})=>[h("div",tt,[C((b(),g("div",null,[o(t(_),{type:"primary",link:"",onClick:L=>x(a)},{default:i(()=>[f(c(t(m)("button.edit")),1)]),_:1},8,["onClick"])])),[[l,"/api/v1/sysPromptTemplate/save","code"]]),o(t(q),null,{dropdown:i(()=>[o(t(z),null,{default:i(()=>[C((b(),g("div",null,[o(t(A),{onClick:L=>w(a)},{default:i(()=>[o(t(_),{type:"danger",icon:t(I),link:""},{default:i(()=>[f(c(t(m)("button.delete")),1)]),_:1},8,["icon"])]),_:1},8,["onClick"])])),[[l,"/api/v1/promptTemplate/remove","code"]])]),_:2},1024)]),default:i(()=>[o(t(_),{link:"",icon:t(H)},null,8,["icon"])]),_:2},1024)])]),_:1},8,["label"])]),_:1},8,["data"])]),_:1},512)])])}}}),ce=Q(et,[["__scopeId","data-v-605c5d62"]]);export{ce as default};
