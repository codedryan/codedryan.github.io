import{$ as o,M as q,R as x}from"./bootstrap-Bf65uz2I.js";import"./css-gf8D6QlL.js";import{E as M}from"./el-dialog-CAR1-R4U.js";import"./el-overlay-Zuw8glOl.js";/* empty css                */import{E as P,a as g}from"./el-form-item-8FQp7Cs4.js";import"./css-C9o_OfXA.js";import"./css-DCrZaNHy.js";import{ElInput as v}from"./index-BjDsryRX.js";import{ElSwitch as W}from"./index-CHf9SThW.js";import{ElButton as f}from"./index-oBOAcXl-.js";import{k as C,o as F,r as i,B,n as I,E as u,J as r,u as e,L as k,y as b}from"../jse/index-index-D3Xb8oT_.js";const K=C({__name:"SensitiveWordPackageModal",emits:["reload"],setup(U,{expose:V,emit:E}){const D=E;F(()=>{}),V({openDialog:N});const p=i(),m=i(!1),n=i(!0),a=i({packageName:"",packageDesc:"",packageType:"",status:"",deptId:""}),d=i(!1),_=i({packageName:[{required:!0,message:o("message.required"),trigger:"blur"}],status:[{required:!0,message:o("message.required"),trigger:"blur"}],deptId:[{required:!0,message:o("message.required"),trigger:"blur"}]});function N(s){s.id&&(n.value=!1),a.value=s,m.value=!0}function y(){var s;(s=p.value)==null||s.validate(l=>{l&&(d.value=!0,q.post(n.value?"api/v1/sensitiveWordPackage/save":"api/v1/sensitiveWordPackage/update",a.value).then(t=>{d.value=!1,t.errorCode===0&&(x.success(t.message),D("reload"),c())}).catch(()=>{d.value=!1}))})}function c(){var s;(s=p.value)==null||s.resetFields(),n.value=!0,a.value={},m.value=!1}return(s,l)=>(I(),B(e(M),{modelValue:m.value,"onUpdate:modelValue":l[3]||(l[3]=t=>m.value=t),draggable:"",title:n.value?e(o)("button.add"):e(o)("button.edit"),"before-close":c,"close-on-click-modal":!1},{footer:u(()=>[r(e(f),{onClick:c},{default:u(()=>[k(b(e(o)("button.cancel")),1)]),_:1}),r(e(f),{type:"primary",onClick:y,loading:d.value,disabled:d.value},{default:u(()=>[k(b(e(o)("button.save")),1)]),_:1},8,["loading","disabled"])]),default:u(()=>[r(e(P),{"label-width":"120px",ref_key:"saveForm",ref:p,model:a.value,"status-icon":"",rules:_.value},{default:u(()=>[r(e(g),{prop:"packageName",label:e(o)("sensitiveWordPackage.packageName")},{default:u(()=>[r(e(v),{modelValue:a.value.packageName,"onUpdate:modelValue":l[0]||(l[0]=t=>a.value.packageName=t),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1},8,["label"]),r(e(g),{prop:"packageDesc",label:e(o)("sensitiveWordPackage.packageDesc")},{default:u(()=>[r(e(v),{modelValue:a.value.packageDesc,"onUpdate:modelValue":l[1]||(l[1]=t=>a.value.packageDesc=t),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1},8,["label"]),r(e(g),{prop:"status",label:e(o)("sensitiveWordPackage.status")},{default:u(()=>[r(e(W),{modelValue:a.value.status,"onUpdate:modelValue":l[2]||(l[2]=t=>a.value.status=t)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"]))}});export{K as _};
