var X=Object.defineProperty,z=Object.defineProperties;var G=Object.getOwnPropertyDescriptors;var $=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var x=(s,a,e)=>a in s?X(s,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[a]=e,g=(s,a)=>{for(var e in a||(a={}))J.call(a,e)&&x(s,e,a[e]);if($)for(var e of $(a))Q.call(a,e)&&x(s,e,a[e]);return s},K=(s,a)=>z(s,G(a));var P=(s,a,e)=>new Promise((c,o)=>{var r=n=>{try{l(e.next(n))}catch(p){o(p)}},i=n=>{try{l(e.throw(n))}catch(p){o(p)}},l=n=>n.done?c(n.value):Promise.resolve(n.value).then(r,i);l((e=e.apply(s,a)).next())});import{bo as R,bm as O,bn as y,cd as Y,ao as k,bA as Z,by as ee,d as se,an as H,aM as ae,bB as te,V as oe,X as le,ax as ne,bQ as ie,aq as ce,cB as re}from"./bootstrap-Bf65uz2I.js";import{a8 as de,b as ue,r as w,w as pe,c as d,X as me,a9 as V,k as _,m as M,n as N,x as E,s as v,u as t,i as fe,q as h,J as A,L as be,y as ve,E as S,B as Ce,V as he,I as ye}from"../jse/index-index-D3Xb8oT_.js";import{C as j,U as W}from"./event-BB_Ol6Sd.js";import{c as T}from"./castArray-BBset58W.js";import{E as Ee}from"./index-DF0dk4ce.js";import{a as _e}from"./index-Bxb6QITi.js";const D=s=>R(s)||de(s)||ue(s),Ie=O({accordion:Boolean,modelValue:{type:y([Array,String,Number]),default:()=>Y([])},expandIconPosition:{type:y([String]),default:"right"},beforeCollapse:{type:y(Function)}}),ge={[W]:D,[j]:D},q=Symbol("collapseContextKey"),F="ElCollapse",Ke=(s,a)=>{const e=w(T(s.modelValue)),c=i=>{e.value=i;const l=s.accordion?e.value[0]:e.value;a(W,l),a(j,l)},o=i=>{if(s.accordion)c([e.value[0]===i?"":i]);else{const l=[...e.value],n=l.indexOf(i);n>-1?l.splice(n,1):l.push(i),c(l)}},r=i=>P(null,null,function*(){const{beforeCollapse:l}=s;if(!l){o(i);return}const n=l(i);[V(n),Z(n)].includes(!0)||ee(F,"beforeCollapse must return type `Promise<boolean>` or `boolean`"),V(n)?n.then(m=>{m!==!1&&o(i)}).catch(m=>{se(F,`some error occurred: ${m}`)}):n&&o(i)});return pe(()=>s.modelValue,()=>e.value=T(s.modelValue),{deep:!0}),me(q,{activeNames:e,handleItemClick:r}),{activeNames:e,setActiveNames:c}},we=s=>{const a=k("collapse");return{rootKls:d(()=>[a.b(),a.b(`icon-position-${s.expandIconPosition}`)])}},Ne=_({name:"ElCollapse"}),ke=_(K(g({},Ne),{props:Ie,emits:ge,setup(s,{expose:a,emit:e}){const c=s,{activeNames:o,setActiveNames:r}=Ke(c,e),{rootKls:i}=we(c);return a({activeNames:o,setActiveNames:r}),(l,n)=>(N(),M("div",{class:v(t(i))},[E(l.$slots,"default")],2))}}));var Be=H(ke,[["__file","collapse.vue"]]);const $e=O({title:{type:String,default:""},name:{type:y([String,Number]),default:void 0},icon:{type:te,default:ae},disabled:Boolean}),xe=s=>{const a=fe(q),{namespace:e}=k("collapse"),c=w(!1),o=w(!1),r=_e(),i=d(()=>r.current++),l=d(()=>{var u;return(u=s.name)!=null?u:`${e.value}-id-${r.prefix}-${t(i)}`}),n=d(()=>a==null?void 0:a.activeNames.value.includes(t(l)));return{focusing:c,id:i,isActive:n,handleFocus:()=>{setTimeout(()=>{o.value?o.value=!1:c.value=!0},50)},handleHeaderClick:u=>{if(s.disabled)return;const f=u.target;f!=null&&f.closest("input, textarea, select")||(a==null||a.handleItemClick(t(l)),c.value=!1,o.value=!0)},handleEnterClick:u=>{const f=u.target;f!=null&&f.closest("input, textarea, select")||(u.preventDefault(),a==null||a.handleItemClick(t(l)))}}},Pe=(s,{focusing:a,isActive:e,id:c})=>{const o=k("collapse"),r=d(()=>[o.b("item"),o.is("active",t(e)),o.is("disabled",s.disabled)]),i=d(()=>[o.be("item","header"),o.is("active",t(e)),{focusing:t(a)&&!s.disabled}]),l=d(()=>[o.be("item","arrow"),o.is("active",t(e))]),n=d(()=>[o.be("item","title")]),p=d(()=>o.be("item","wrap")),m=d(()=>o.be("item","content")),C=d(()=>o.b(`content-${t(c)}`)),u=d(()=>o.b(`head-${t(c)}`));return{itemTitleKls:n,arrowKls:l,headKls:i,rootKls:r,itemWrapperKls:p,itemContentKls:m,scopedContentId:C,scopedHeadId:u}},Ve=_({name:"ElCollapseItem"}),Ae=_(K(g({},Ve),{props:$e,setup(s,{expose:a}){const e=s,{focusing:c,id:o,isActive:r,handleFocus:i,handleHeaderClick:l,handleEnterClick:n}=xe(e),{arrowKls:p,headKls:m,rootKls:C,itemTitleKls:u,itemWrapperKls:f,itemContentKls:U,scopedContentId:I,scopedHeadId:B}=Pe(e,{focusing:c,isActive:r,id:o});return a({isActive:r}),(b,Se)=>(N(),M("div",{class:v(t(C))},[h("div",{id:t(B),class:v(t(m)),"aria-expanded":t(r),"aria-controls":t(I),"aria-describedby":t(I),tabindex:b.disabled?void 0:0,"aria-disabled":b.disabled,role:"button",onClick:t(l),onKeydown:le(ne(t(n),["stop"]),["space","enter"]),onFocus:t(i),onBlur:Te=>c.value=!1},[h("span",{class:v(t(u))},[E(b.$slots,"title",{isActive:t(r)},()=>[be(ve(b.title),1)])],2),E(b.$slots,"icon",{isActive:t(r)},()=>[A(t(oe),{class:v(t(p))},{default:S(()=>[(N(),Ce(he(b.icon)))]),_:1},8,["class"])])],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","aria-disabled","onClick","onKeydown","onFocus","onBlur"]),A(t(Ee),null,{default:S(()=>[ye(h("div",{id:t(I),role:"region",class:v(t(f)),"aria-hidden":!t(r),"aria-labelledby":t(B)},[h("div",{class:v(t(U))},[E(b.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[ie,t(r)]])]),_:3})],2))}}));var L=H(Ae,[["__file","collapse-item.vue"]]);const qe=ce(Be,{CollapseItem:L}),Le=re(L);export{qe as E,Le as a};
