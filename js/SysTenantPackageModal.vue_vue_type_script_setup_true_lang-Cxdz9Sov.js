import{$ as s,M as N,R as S}from"./bootstrap-Bf65uz2I.js";import"./css-gf8D6QlL.js";import{E as C}from"./el-dialog-CAR1-R4U.js";import"./el-overlay-Zuw8glOl.js";/* empty css                */import{E as M,a as p}from"./el-form-item-8FQp7Cs4.js";import"./css-C9o_OfXA.js";import"./css-DCrZaNHy.js";import{D as P}from"./DictSelect-DdOvS-6R.js";import{T as q}from"./Tree-DNoeY5lZ.js";import{ElInput as f}from"./index-BjDsryRX.js";import{ElSwitch as D}from"./index-CHf9SThW.js";import{ElButton as g}from"./index-oBOAcXl-.js";import{k as F,o as U,r as i,B as _,n as L,E as r,J as u,u as e,L as k,y}from"../jse/index-index-D3Xb8oT_.js";const X=F({__name:"SysTenantPackageModal",emits:["reload"],setup(B,{expose:b,emit:V}){const T=V;U(()=>{}),b({openDialog:x});const c=i(),m=i(!1),n=i(!0),a=i({deptId:"",packageName:"",menuIds:"",status:"",remark:""}),d=i(!1),I=i({deptId:[{required:!0,message:s("message.required"),trigger:"blur"}],packageName:[{required:!0,message:s("message.required"),trigger:"blur"}],status:[{required:!0,message:s("message.required"),trigger:"blur"}]});function x(o){o.id&&(n.value=!1),a.value=o,m.value=!0}function E(){var o;(o=c.value)==null||o.validate(l=>{l&&(a.value.menuIds=JSON.stringify(a.value.menuIdList||[]),d.value=!0,N.post(n.value?"api/v1/sysTenantPackage/save":"api/v1/sysTenantPackage/update",a.value).then(t=>{d.value=!1,t.errorCode===0&&(S.success(t.message),T("reload"),v())}).catch(()=>{d.value=!1}))})}function v(){var o;(o=c.value)==null||o.resetFields(),n.value=!0,a.value={},m.value=!1}return(o,l)=>(L(),_(e(C),{modelValue:m.value,"onUpdate:modelValue":l[5]||(l[5]=t=>m.value=t),draggable:"",title:n.value?e(s)("button.add"):e(s)("button.edit"),"before-close":v,"close-on-click-modal":!1},{footer:r(()=>[u(e(g),{onClick:v},{default:r(()=>[k(y(e(s)("button.cancel")),1)]),_:1}),u(e(g),{type:"primary",onClick:E,loading:d.value,disabled:d.value},{default:r(()=>[k(y(e(s)("button.save")),1)]),_:1},8,["loading","disabled"])]),default:r(()=>[u(e(M),{"label-width":"120px",ref_key:"saveForm",ref:c,model:a.value,"status-icon":"",rules:I.value},{default:r(()=>[u(e(p),{prop:"packageName",label:e(s)("sysTenantPackage.packageName")},{default:r(()=>[u(e(f),{modelValue:a.value.packageName,"onUpdate:modelValue":l[0]||(l[0]=t=>a.value.packageName=t),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1},8,["label"]),u(e(p),{prop:"menuIds",label:e(s)("sysTenantPackage.menuIds")},{default:r(()=>[u(e(D),{modelValue:a.value.menuCheckStrictly,"onUpdate:modelValue":l[1]||(l[1]=t=>a.value.menuCheckStrictly=t),"active-text":e(s)("sysRole.checkStrictlyTrue"),"inactive-text":e(s)("sysRole.checkStrictlyFalse")},null,8,["modelValue","active-text","inactive-text"]),u(q,{"data-url":"/api/v1/sysMenu/list?asTree=true",modelValue:a.value.menuIdList,"onUpdate:modelValue":l[2]||(l[2]=t=>a.value.menuIdList=t),"default-props":{label:"menuTitle",children:"children"},"check-strictly":!a.value.menuCheckStrictly},null,8,["modelValue","check-strictly"])]),_:1},8,["label"]),u(e(p),{prop:"status",label:e(s)("sysTenantPackage.status")},{default:r(()=>[u(P,{modelValue:a.value.status,"onUpdate:modelValue":l[3]||(l[3]=t=>a.value.status=t),"dict-code":"yesOrNo"},null,8,["modelValue"])]),_:1},8,["label"]),u(e(p),{prop:"remark",label:e(s)("sysTenantPackage.remark")},{default:r(()=>[u(e(f),{modelValue:a.value.remark,"onUpdate:modelValue":l[4]||(l[4]=t=>a.value.remark=t),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"]))}});export{X as _};
