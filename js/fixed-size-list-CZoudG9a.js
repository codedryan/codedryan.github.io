var Be=Object.defineProperty,Ge=Object.defineProperties;var qe=Object.getOwnPropertyDescriptors;var we=Object.getOwnPropertySymbols;var He=Object.prototype.hasOwnProperty,Ve=Object.prototype.propertyIsEnumerable;var Me=(e,t,s)=>t in e?Be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,V=(e,t)=>{for(var s in t||(t={}))He.call(t,s)&&Me(e,s,t[s]);if(we)for(var s of we(t))Ve.call(t,s)&&Me(e,s,t[s]);return e},J=(e,t)=>Ge(e,qe(t));import{cv as We,bm as ne,cw as B,bn as U,cd as Ue,ao as ce,ax as je,bo as Q,bk as Ke,i as Ze}from"./bootstrap-Bf65uz2I.js";import{g as Ne,c as S,k as ze,r as P,G as Xe,u as r,w as Ye,ak as Je,P as $,V as Ee,F as Qe,a8 as Te,D as et,o as tt,a6 as lt,av as st,A as ee,h as nt}from"../jse/index-index-D3Xb8oT_.js";import{V as at,F as Ie,B as Ae,L as rt,R as te,H as le,a as Ce,b as ue,c as _e,S as ot,d as it,I as Oe,e as Re,u as ct,A as fe,C as pe,E as ut,f as ft,g as dt}from"./use-wheel-C9oFsIdW.js";import{B as mt}from"./util-B2mB0_6C.js";import{c as ht,r as vt}from"./raf-BVBe43_O.js";var xe=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function St(e,t){return!!(e===t||xe(e)&&xe(t))}function gt(e,t){if(e.length!==t.length)return!1;for(var s=0;s<e.length;s++)if(!St(e[s],t[s]))return!1;return!0}function yt(e,t){t===void 0&&(t=gt);var s=null;function g(){for(var f=[],m=0;m<arguments.length;m++)f[m]=arguments[m];if(s&&s.lastThis===this&&t(f,s.lastArgs))return s.lastResult;var v=e.apply(this,f);return s={lastResult:v,lastArgs:f,lastThis:this},v}return g.clear=function(){s=null},g}const bt=()=>{const t=Ne().proxy.$props;return S(()=>{const s=(g,f,m)=>({});return t.perfMode?We(s):yt(s)})},de=B({type:U([Number,Function]),required:!0}),me=B({type:Number}),he=B({type:Number,default:2}),wt=B({type:String,values:["ltr","rtl"],default:"ltr"}),ve=B({type:Number,default:0}),se=B({type:Number,required:!0}),De=B({type:String,values:["horizontal","vertical"],default:at}),Fe=ne({className:{type:String,default:""},containerElement:{type:U([String,Object]),default:"div"},data:{type:U(Array),default:()=>Ue([])},direction:wt,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},innerProps:{type:U(Object),default:()=>({})},style:{type:U([Object,String,Array])},useIsScrolling:Boolean,width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:Boolean}),Mt=ne(V({cache:he,estimatedItemSize:me,layout:De,initScrollOffset:ve,total:se,itemSize:de},Fe)),Se={type:Number,default:6},ke={type:Number,default:0},Pe={type:Number,default:2};ne(V({columnCache:he,columnWidth:de,estimatedColumnWidth:me,estimatedRowHeight:me,initScrollLeft:ve,initScrollTop:ve,itemKey:{type:U(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:he,rowHeight:de,totalColumn:se,totalRow:se,hScrollbarSize:Se,vScrollbarSize:Se,scrollbarStartGap:ke,scrollbarEndGap:Pe,role:String},Fe));const Et=ne({alwaysOn:Boolean,class:String,layout:De,total:se,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:Se,startGap:ke,endGap:Pe,visible:Boolean}),ie=(e,t)=>e<t?Ie:Ae,ge=e=>e===rt||e===te||e===le;let W=null;function Le(e=!1){if(W===null||e){const t=document.createElement("div"),s=t.style;s.width="50px",s.height="50px",s.overflow="scroll",s.direction="rtl";const g=document.createElement("div"),f=g.style;return f.width="100px",f.height="100px",t.appendChild(g),document.body.appendChild(t),t.scrollLeft>0?W=Ce:(t.scrollLeft=1,t.scrollLeft===0?W=ue:W=_e),document.body.removeChild(t),W}return W}function Tt({move:e,size:t,bar:s},g){const f={},m=`translate${s.axis}(${e}px)`;return f[s.size]=t,f.transform=m,g==="horizontal"?f.height="100%":f.width="100%",f}const Ot=ze({name:"ElVirtualScrollBar",props:Et,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const s=S(()=>e.startGap+e.endGap),g=ce("virtual-scrollbar"),f=ce("scrollbar"),m=P(),v=P();let O=null,y=null;const d=Xe({isDragging:!1,traveled:0}),l=S(()=>mt[e.layout]),h=S(()=>e.clientSize-r(s)),x=S(()=>({position:"absolute",width:`${le===e.layout?h.value:e.scrollbarSize}px`,height:`${le===e.layout?e.scrollbarSize:h.value}px`,[ot[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),C=S(()=>{const a=e.ratio;if(a>=100)return Number.POSITIVE_INFINITY;if(a>=50)return a*h.value/100;const M=h.value/3;return Math.floor(Math.min(Math.max(a*h.value/100,it),M))}),_=S(()=>{if(!Number.isFinite(C.value))return{display:"none"};const a=`${C.value}px`;return Tt({bar:l.value,size:a,move:d.traveled},e.layout)}),E=S(()=>Math.ceil(e.clientSize-C.value-r(s))),D=()=>{window.addEventListener("mousemove",i),window.addEventListener("mouseup",L);const a=r(v);a&&(y=document.onselectstart,document.onselectstart=()=>!1,a.addEventListener("touchmove",i,{passive:!0}),a.addEventListener("touchend",L))},R=()=>{window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",L),document.onselectstart=y,y=null;const a=r(v);a&&(a.removeEventListener("touchmove",i),a.removeEventListener("touchend",L))},F=a=>{a.stopImmediatePropagation(),!(a.ctrlKey||[1,2].includes(a.button))&&(d.isDragging=!0,d[l.value.axis]=a.currentTarget[l.value.offset]-(a[l.value.client]-a.currentTarget.getBoundingClientRect()[l.value.direction]),t("start-move"),D())},L=()=>{d.isDragging=!1,d[l.value.axis]=0,t("stop-move"),R()},i=a=>{const{isDragging:M}=d;if(!M||!v.value||!m.value)return;const z=d[l.value.axis];if(!z)return;ht(O);const p=(m.value.getBoundingClientRect()[l.value.direction]-a[l.value.client])*-1,I=v.value[l.value.offset]-z,k=p-I;O=vt(()=>{d.traveled=Math.max(0,Math.min(k,E.value)),t("scroll",k,E.value)})},G=a=>{const M=Math.abs(a.target.getBoundingClientRect()[l.value.direction]-a[l.value.client]),z=v.value[l.value.offset]/2,p=M-z;d.traveled=Math.max(0,Math.min(p,E.value)),t("scroll",p,E.value)};return Ye(()=>e.scrollFrom,a=>{d.isDragging||(d.traveled=Math.ceil(a*E.value))}),Je(()=>{R()}),()=>$("div",{role:"presentation",ref:m,class:[g.b(),e.class,(e.alwaysOn||d.isDragging)&&"always-on"],style:x.value,onMousedown:je(G,["stop","prevent"]),onTouchstartPrevent:F},$("div",{ref:v,class:f.e("thumb"),style:_.value,onMousedown:F},[]))}}),Rt=({name:e,getOffset:t,getItemSize:s,getItemOffset:g,getEstimatedTotalSize:f,getStartIndexForOffset:m,getStopIndexForStartIndex:v,initCache:O,clearCache:y,validateProps:d})=>ze({name:e!=null?e:"ElVirtualList",props:Mt,emits:[Oe,Re],setup(l,{emit:h,expose:x}){d(l);const C=Ne(),_=ce("vl"),E=P(O(l,C)),D=bt(),R=P(),F=P(),L=P(),i=P({isScrolling:!1,scrollDir:"forward",scrollOffset:Q(l.initScrollOffset)?l.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:l.scrollbarAlwaysOn}),G=S(()=>{const{total:n,cache:o}=l,{isScrolling:c,scrollDir:T,scrollOffset:u}=r(i);if(n===0)return[0,0,0,0];const b=m(l,u,r(E)),w=v(l,b,u,r(E)),q=!c||T===Ae?Math.max(1,o):1,H=!c||T===Ie?Math.max(1,o):1;return[Math.max(0,b-q),Math.max(0,Math.min(n-1,w+H)),b,w]}),a=S(()=>f(l,r(E))),M=S(()=>ge(l.layout)),z=S(()=>[{position:"relative",[`overflow-${M.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:l.direction,height:Q(l.height)?`${l.height}px`:l.height,width:Q(l.width)?`${l.width}px`:l.width},l.style]),p=S(()=>{const n=r(a),o=r(M);return{height:o?"100%":`${n}px`,pointerEvents:r(i).isScrolling?"none":void 0,width:o?`${n}px`:"100%"}}),I=S(()=>M.value?l.width:l.height),{onWheel:k}=ct({atStartEdge:S(()=>i.value.scrollOffset<=0),atEndEdge:S(()=>i.value.scrollOffset>=a.value),layout:S(()=>l.layout)},n=>{var o,c;(c=(o=L.value).onMouseUp)==null||c.call(o),N(Math.min(i.value.scrollOffset+n,a.value-I.value))});Ke(R,"wheel",k,{passive:!1});const j=()=>{const{total:n}=l;if(n>0){const[u,b,w,q]=r(G);h(Oe,u,b,w,q)}const{scrollDir:o,scrollOffset:c,updateRequested:T}=r(i);h(Re,o,c,T)},ae=n=>{const{clientHeight:o,scrollHeight:c,scrollTop:T}=n.currentTarget,u=r(i);if(u.scrollOffset===T)return;const b=Math.max(0,Math.min(T,c-o));i.value=J(V({},u),{isScrolling:!0,scrollDir:ie(u.scrollOffset,b),scrollOffset:b,updateRequested:!1}),ee(Z)},re=n=>{const{clientWidth:o,scrollLeft:c,scrollWidth:T}=n.currentTarget,u=r(i);if(u.scrollOffset===c)return;const{direction:b}=l;let w=c;if(b===te)switch(Le()){case ue:{w=-c;break}case Ce:{w=T-o-c;break}}w=Math.max(0,Math.min(w,T-o)),i.value=J(V({},u),{isScrolling:!0,scrollDir:ie(u.scrollOffset,w),scrollOffset:w,updateRequested:!1}),ee(Z)},X=n=>{r(M)?re(n):ae(n),j()},Y=(n,o)=>{const c=(a.value-I.value)/o*n;N(Math.min(a.value-I.value,c))},N=n=>{n=Math.max(n,0),n!==r(i).scrollOffset&&(i.value=J(V({},r(i)),{scrollOffset:n,scrollDir:ie(r(i).scrollOffset,n),updateRequested:!0}),ee(Z))},K=(n,o=fe)=>{const{scrollOffset:c}=r(i);n=Math.max(0,Math.min(n,l.total-1)),N(t(l,n,o,c,r(E)))},oe=n=>{const{direction:o,itemSize:c,layout:T}=l,u=D.value(y&&c,y&&T,y&&o);let b;if(nt(u,String(n)))b=u[n];else{const w=g(l,n,r(E)),q=s(l,n,r(E)),H=r(M),ye=o===te,be=H?w:0;u[n]=b={position:"absolute",left:ye?void 0:`${be}px`,right:ye?`${be}px`:void 0,top:H?0:`${w}px`,height:H?"100%":`${q}px`,width:H?`${q}px`:"100%"}}return b},Z=()=>{i.value.isScrolling=!1,ee(()=>{D.value(-1,null,null)})},A=()=>{const n=R.value;n&&(n.scrollTop=0)};tt(()=>{if(!Ze)return;const{initScrollOffset:n}=l,o=r(R);Q(n)&&o&&(r(M)?o.scrollLeft=n:o.scrollTop=n),j()}),lt(()=>{const{direction:n,layout:o}=l,{scrollOffset:c,updateRequested:T}=r(i),u=r(R);if(T&&u)if(o===le)if(n===te)switch(Le()){case ue:{u.scrollLeft=-c;break}case _e:{u.scrollLeft=c;break}default:{const{clientWidth:b,scrollWidth:w}=u;u.scrollLeft=w-b-c;break}}else u.scrollLeft=c;else u.scrollTop=c}),st(()=>{r(R).scrollTop=r(i).scrollOffset});const $e={ns:_,clientSize:I,estimatedTotalSize:a,windowStyle:z,windowRef:R,innerRef:F,innerStyle:p,itemsToRender:G,scrollbarRef:L,states:i,getItemStyle:oe,onScroll:X,onScrollbarScroll:Y,onWheel:k,scrollTo:N,scrollToItem:K,resetScrollTop:A};return x({windowRef:R,innerRef:F,getItemStyleCache:D,scrollTo:N,scrollToItem:K,resetScrollTop:A,states:i}),$e},render(l){var h;const{$slots:x,className:C,clientSize:_,containerElement:E,data:D,getItemStyle:R,innerElement:F,itemsToRender:L,innerStyle:i,layout:G,total:a,onScroll:M,onScrollbarScroll:z,states:p,useIsScrolling:I,windowStyle:k,ns:j}=l,[ae,re]=L,X=Ee(E),Y=Ee(F),N=[];if(a>0)for(let A=ae;A<=re;A++)N.push($(Qe,{key:A},(h=x.default)==null?void 0:h.call(x,{data:D,index:A,isScrolling:I?p.isScrolling:void 0,style:R(A)})));const K=[$(Y,et(l.innerProps,{style:i,ref:"innerRef"}),Te(Y)?N:{default:()=>N})],oe=$(Ot,{ref:"scrollbarRef",clientSize:_,layout:G,onScroll:z,ratio:_*100/this.estimatedTotalSize,scrollFrom:p.scrollOffset/(this.estimatedTotalSize-_),total:a,alwaysOn:p.scrollbarAlwaysOn}),Z=$(X,{class:[j.e("window"),C],style:k,onScroll:M,ref:"windowRef",key:0},Te(X)?[K]:{default:()=>[K]});return $("div",{key:0,class:[j.e("wrapper"),p.scrollbarAlwaysOn?"always-on":""]},[Z,oe])}}),At=Rt({name:"ElFixedSizeList",getItemOffset:({itemSize:e},t)=>t*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:t})=>t*e,getOffset:({height:e,total:t,itemSize:s,layout:g,width:f},m,v,O)=>{const y=ge(g)?f:e,d=Math.max(0,t*s-y),l=Math.min(d,m*s),h=Math.max(0,(m+1)*s-y);switch(v===dt&&(O>=h-y&&O<=l+y?v=fe:v=pe),v){case ft:return l;case ut:return h;case pe:{const x=Math.round(h+(l-h)/2);return x<Math.ceil(y/2)?0:x>d+Math.floor(y/2)?d:x}case fe:default:return O>=h&&O<=l?O:O<h?h:l}},getStartIndexForOffset:({total:e,itemSize:t},s)=>Math.max(0,Math.min(e-1,Math.floor(s/t))),getStopIndexForStartIndex:({height:e,total:t,itemSize:s,layout:g,width:f},m,v)=>{const O=m*s,y=ge(g)?f:e,d=Math.ceil((y+v-O)/s);return Math.max(0,Math.min(t-1,m+d-1))},initCache(){},clearCache:!0,validateProps(){}});export{At as F,Rt as c,ge as i};
