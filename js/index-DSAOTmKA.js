import{f as v}from"./vnode-DysYOGZN.js";import{O as m,k as O,P as x,Q as p,o as M,f as R}from"../jse/index-index-D3Xb8oT_.js";const S=(a,u,t)=>v(a.subTree).filter(e=>{var s;return R(e)&&((s=e.type)==null?void 0:s.name)===u&&!!e.component}).map(e=>e.component.uid).map(e=>t[e]).filter(e=>!!e),w=(a,u)=>{const t=m({}),c=m([]),d=new WeakMap,e=n=>{t.value[n.uid]=n,p(t),M(()=>{const o=n.getVnode().el,r=o.parentNode;if(!d.has(r)){d.set(r,[]);const i=r.insertBefore.bind(r);r.insertBefore=(l,f)=>(d.get(r).some(h=>l===h||f===h)&&p(t),i(l,f))}d.get(r).push(o)})},s=n=>{delete t.value[n.uid],p(t);const o=n.getVnode().el,r=o.parentNode,i=d.get(r),l=i.indexOf(o);i.splice(l,1)},C=()=>{c.value=S(a,u,t.value)},g=n=>n.render(),N=O({setup(n,{slots:o}){return()=>(C(),o.default?x(g,{render:o.default}):null)}});return{children:c,addChild:e,removeChild:s,ChildrenSorter:N}};export{w as u};
