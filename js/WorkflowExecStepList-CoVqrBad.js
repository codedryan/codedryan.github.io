import{a9 as I,as as N,$ as a,aL as T}from"./bootstrap-Bf65uz2I.js";import"./css-gf8D6QlL.js";/* empty css                */import{a as w,E as W}from"./el-form-item-8FQp7Cs4.js";import"./css-C9o_OfXA.js";import{E as $,a as m}from"./el-table-JPhh2aff.js";import"./css-_QzOlLq8.js";/* empty css                   *//* empty css                  *//* empty css                     *//* empty css                        *//* empty css               */import{_ as C}from"./PageData.vue_vue_type_script_setup_true_lang-DfbAOXk_.js";import{u as D}from"./dict-CsbZy8Qf.js";import{ElButton as c}from"./index-oBOAcXl-.js";import{ElInput as E}from"./index-BjDsryRX.js";import{E as V}from"./index-DGdiZ7pE.js";import{k as h,o as q,r as b,m as B,n as K,q as _,J as o,E as t,L as l,y as i,u as e}from"../jse/index-index-D3Xb8oT_.js";import"./use-form-common-props-IzjzSHax.js";import"./castArray-BBset58W.js";import"./index-Bxb6QITi.js";import"./_baseClone-trfKWgGN.js";import"./index-CbSmxnRE.js";import"./util-B2mB0_6C.js";import"./index-bT9OJj6t.js";import"./_overRest-Bb9G3v08.js";import"./index-CMBjNRIa.js";import"./index-B3qAv2kq.js";import"./aria-DEUWDJ1E.js";import"./merge-BysAs727.js";import"./isArrayLikeObject-j3RaJGb0.js";import"./_baseSlice-DZe_dRSe.js";import"./_baseIteratee-rJjBrWyx.js";import"./debounce-AsHllEOy.js";import"./toNumber-CvayJyp9.js";import"./index-p7kg-xKH.js";import"./event-BB_Ol6Sd.js";import"./use-form-item-DVWmmqeW.js";import"./index-Dg3fRnQE.js";import"./omit-CbyqVLxv.js";import"./index-pv0R11Cf.js";import"./raf-BVBe43_O.js";import"./el-empty-CDAlv280.js";import"./el-pagination-W2lJTIgw.js";import"./index-DcZY4wgD.js";import"./useProps-DNCnrLfW.js";import"./_baseFindIndex-D7XfJLKM.js";import"./strings-CGsg9AfI.js";import"./index-m1ZP1zbM.js";import"./scroll-C2492Iw_.js";import"./clamp-CeuJyDnc.js";import"./vnode-DysYOGZN.js";/* empty css                  */import"./index-C33Sf0pH.js";const F={class:"page-container border-border border"},L={class:"mb-3"},ze=h({__name:"WorkflowExecStepList",setup(Q){const k=I(),v=N();q(()=>{x()});const d=b(),f=b(),n=b({nodeName:""}),y=D();function x(){y.fetchDictionary("dataStatus")}function R(s){s==null||s.validate(p=>{p&&f.value.setQuery(n.value)})}function S(s){s==null||s.resetFields(),f.value.setQuery({})}function g(s){switch(s.status){case 1:return"primary";case 6:return"warning";case 10:return"danger";case 20:return"success";case 21:return"danger";default:return"info"}}return(s,p)=>(K(),B("div",F,[_("div",L,[o(e(c),{icon:e(T),onClick:p[0]||(p[0]=u=>e(k).back())},{default:t(()=>[l(i(e(a)("button.back")),1)]),_:1},8,["icon"])]),o(e(W),{ref_key:"formRef",ref:d,inline:!0,model:n.value},{default:t(()=>[o(e(w),{class:"w-full max-w-[300px]",prop:"nodeName"},{default:t(()=>[o(e(E),{modelValue:n.value.nodeName,"onUpdate:modelValue":p[1]||(p[1]=u=>n.value.nodeName=u),placeholder:e(a)("aiWorkflowRecordStep.nodeName")},null,8,["modelValue","placeholder"])]),_:1}),o(e(w),null,{default:t(()=>[o(e(c),{onClick:p[2]||(p[2]=u=>R(d.value)),type:"primary"},{default:t(()=>[l(i(e(a)("button.query")),1)]),_:1}),o(e(c),{onClick:p[3]||(p[3]=u=>S(d.value))},{default:t(()=>[l(i(e(a)("button.reset")),1)]),_:1})]),_:1})]),_:1},8,["model"]),p[4]||(p[4]=_("div",{class:"handle-div"},null,-1)),o(C,{ref_key:"pageDataRef",ref:f,"page-url":"/api/v1/workflowExecStep/page","page-size":10,"extra-query-params":{recordId:e(v).query.recordId,sortKey:"startTime",sortType:"asc"}},{default:t(({pageList:u})=>[o(e($),{data:u,border:""},{default:t(()=>[o(e(m),{"show-overflow-tooltip":"",prop:"execKey",label:e(a)("aiWorkflowRecordStep.execKey")},{default:t(({row:r})=>[l(i(r.execKey),1)]),_:1},8,["label"]),o(e(m),{"show-overflow-tooltip":"",prop:"nodeId",label:e(a)("aiWorkflowRecordStep.nodeId")},{default:t(({row:r})=>[l(i(r.nodeId),1)]),_:1},8,["label"]),o(e(m),{prop:"nodeName",label:e(a)("aiWorkflowRecordStep.nodeName")},{default:t(({row:r})=>[l(i(r.nodeName),1)]),_:1},8,["label"]),o(e(m),{"show-overflow-tooltip":"",prop:"input",label:e(a)("aiWorkflowRecordStep.input")},{default:t(({row:r})=>[l(i(r.input),1)]),_:1},8,["label"]),o(e(m),{"show-overflow-tooltip":"",prop:"output",label:e(a)("aiWorkflowRecordStep.output")},{default:t(({row:r})=>[l(i(r.output),1)]),_:1},8,["label"]),o(e(m),{prop:"execTime",label:e(a)("aiWorkflowRecordStep.execTime")},{default:t(({row:r})=>[l(i(r.execTime||"-")+" ms ",1)]),_:1},8,["label"]),o(e(m),{prop:"status",label:e(a)("aiWorkflowRecordStep.status")},{default:t(({row:r})=>[o(e(V),{type:g(r)},{default:t(()=>[l(i(e(a)(`aiWorkflowRecordStep.status${r.status}`)),1)]),_:2},1032,["type"])]),_:1},8,["label"]),o(e(m),{"show-overflow-tooltip":"",prop:"errorInfo",label:e(a)("aiWorkflowRecordStep.errorInfo")},{default:t(({row:r})=>[l(i(r.errorInfo),1)]),_:1},8,["label"])]),_:1},8,["data"])]),_:1},8,["extra-query-params"])]))}});export{ze as default};
