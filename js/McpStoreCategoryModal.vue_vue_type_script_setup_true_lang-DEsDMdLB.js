import{$ as r,M as k,R as S}from"./bootstrap-Bf65uz2I.js";import"./css-gf8D6QlL.js";import{E as x}from"./el-dialog-CAR1-R4U.js";import"./el-overlay-Zuw8glOl.js";/* empty css                */import{E as F,a as v}from"./el-form-item-8FQp7Cs4.js";import"./css-C9o_OfXA.js";import{ElInput as g}from"./index-BjDsryRX.js";import{ElButton as c}from"./index-oBOAcXl-.js";import{k as q,o as B,r as i,B as D,n as U,E as u,J as s,u as e,L as b,y}from"../jse/index-index-D3Xb8oT_.js";const H=q({__name:"McpStoreCategoryModal",emits:["reload"],setup(I,{expose:V,emit:N}){const C=N;B(()=>{}),V({openDialog:_});const p=i(),d=i(!1),n=i(!0),a=i({categoryName:"",sortNo:"",status:""}),m=i(!1),E=i({categoryName:[{required:!0,message:r("message.required"),trigger:"blur"}],status:[{required:!0,message:r("message.required"),trigger:"blur"}]});function _(l){l.id&&(n.value=!1),a.value=l,d.value=!0}function M(){var l;(l=p.value)==null||l.validate(t=>{t&&(m.value=!0,k.post(n.value?"api/v1/mcpStoreCategory/save":"api/v1/mcpStoreCategory/update",a.value).then(o=>{m.value=!1,o.errorCode===0&&(S.success(o.message),C("reload"),f())}).catch(()=>{m.value=!1}))})}function f(){var l;(l=p.value)==null||l.resetFields(),n.value=!0,a.value={},d.value=!1}return(l,t)=>(U(),D(e(x),{modelValue:d.value,"onUpdate:modelValue":t[3]||(t[3]=o=>d.value=o),draggable:"",title:n.value?e(r)("button.add"):e(r)("button.edit"),"before-close":f,"close-on-click-modal":!1},{footer:u(()=>[s(e(c),{onClick:f},{default:u(()=>[b(y(e(r)("button.cancel")),1)]),_:1}),s(e(c),{type:"primary",onClick:M,loading:m.value,disabled:m.value},{default:u(()=>[b(y(e(r)("button.save")),1)]),_:1},8,["loading","disabled"])]),default:u(()=>[s(e(F),{"label-width":"120px",ref_key:"saveForm",ref:p,model:a.value,"status-icon":"",rules:E.value},{default:u(()=>[s(e(v),{prop:"categoryName",label:e(r)("mcpStoreCategory.categoryName")},{default:u(()=>[s(e(g),{modelValue:a.value.categoryName,"onUpdate:modelValue":t[0]||(t[0]=o=>a.value.categoryName=o),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1},8,["label"]),s(e(v),{prop:"sortNo",label:e(r)("mcpStoreCategory.sortNo")},{default:u(()=>[s(e(g),{modelValue:a.value.sortNo,"onUpdate:modelValue":t[1]||(t[1]=o=>a.value.sortNo=o),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1},8,["label"]),s(e(v),{prop:"status",label:e(r)("mcpStoreCategory.status")},{default:u(()=>[s(e(g),{modelValue:a.value.status,"onUpdate:modelValue":t[2]||(t[2]=o=>a.value.status=o),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"]))}});export{H as _};
