import{_ as k,$ as r}from"./bootstrap-Bf65uz2I.js";import{E as b}from"./el-card-DGd_zL6P.js";import{E as m}from"./el-col-D5ifHzRC.js";import"./css-CLrSDUNG.js";/* empty css                */import{E as w,a as d}from"./el-form-item-8FQp7Cs4.js";import"./css-C9o_OfXA.js";/* empty css                  */import{E as U}from"./el-row-u3yI-Elm.js";/* empty css               *//* empty css                     *//* empty css                  */import{D as c}from"./DictSelect-DdOvS-6R.js";import{U as y}from"./UploadAvatar-a3x1lqjM.js";import C from"./DynamicHeaders-D7JhPeUG.js";import V from"./DynamicParams-BlHUGnR7.js";import x from"./FieldMapping-QpubKO_Q.js";import{ElDivider as s}from"./index-Ce9mjW49.js";import{ElInput as i}from"./index-BjDsryRX.js";import{E as I,a as f}from"./index-DcZY4wgD.js";import{r as _,w as S,o as q,m as N,n as O,J as l,E as u,u as e,q as p,L as v,y as n}from"../jse/index-index-D3Xb8oT_.js";import"./use-form-common-props-IzjzSHax.js";import"./castArray-BBset58W.js";import"./index-Bxb6QITi.js";import"./_baseClone-trfKWgGN.js";import"./el-image-viewer-DlaFkWIK.js";import"./index-B3qAv2kq.js";import"./aria-DEUWDJ1E.js";import"./debounce-AsHllEOy.js";import"./toNumber-CvayJyp9.js";import"./index-C33Sf0pH.js";import"./scroll-C2492Iw_.js";import"./css-BA5xAVBz.js";import"./index-e0qsk5Ci.js";import"./cloneDeep-Orislllf.js";import"./css-gf8D6QlL.js";import"./index-oBOAcXl-.js";import"./index-Dg3fRnQE.js";import"./use-form-item-DVWmmqeW.js";import"./index-bT9OJj6t.js";import"./_overRest-Bb9G3v08.js";import"./event-BB_Ol6Sd.js";import"./index-m1ZP1zbM.js";import"./index-CMBjNRIa.js";import"./index-CbSmxnRE.js";import"./util-B2mB0_6C.js";import"./index-DGdiZ7pE.js";import"./useProps-DNCnrLfW.js";import"./_baseFindIndex-D7XfJLKM.js";import"./_baseIteratee-rJjBrWyx.js";import"./strings-CGsg9AfI.js";import"./clamp-CeuJyDnc.js";import"./index-pv0R11Cf.js";import"./vnode-DysYOGZN.js";const D={class:"oauth-config-container"},F={class:"section-title"},J={class:"section-title"},M={class:"section-title"},T={class:"section-title"},A={class:"section-title"},P={class:"section-title"},$={class:"card-header"},B={class:"config-preview"},G={__name:"OAuthConfig",props:{configJson:{type:Object,required:!0}},setup(H){const g=H,E=_(null),o=_(g.configJson);return S(()=>g.configJson,h=>{o.value=h},{immediate:!0,deep:!0}),q(()=>{}),(h,t)=>(O(),N("div",D,[l(e(b),{class:"config-card",shadow:"never"},{default:u(()=>[l(e(w),{ref_key:"configForm",ref:E,model:o.value,"label-width":"150px"},{default:u(()=>[l(e(s),null,{default:u(()=>[v(n(e(r)("oauth.basicConfig")),1)]),_:1}),l(e(U),{gutter:20},{default:u(()=>[l(e(m),{span:24},{default:u(()=>[l(e(d),{label:e(r)("oauth.platform"),prop:"platform"},{default:u(()=>[l(e(i),{modelValue:o.value.platform,"onUpdate:modelValue":t[0]||(t[0]=a=>o.value.platform=a),placeholder:"wxOpen"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),l(e(m),{span:24},{default:u(()=>[l(e(d),{label:e(r)("oauth.displayName"),prop:"displayName"},{default:u(()=>[l(e(i),{modelValue:o.value.displayName,"onUpdate:modelValue":t[1]||(t[1]=a=>o.value.displayName=a),placeholder:"微信登录"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),l(e(m),{span:12},{default:u(()=>[l(e(d),{label:e(r)("oauth.roleId"),prop:"roleId"},{default:u(()=>[l(c,{modelValue:o.value.roleId,"onUpdate:modelValue":t[2]||(t[2]=a=>o.value.roleId=a),"dict-code":"sysRole"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),l(e(m),{span:12},{default:u(()=>[l(e(d),{label:e(r)("oauth.enabled"),prop:"enabled"},{default:u(()=>[l(c,{modelValue:o.value.enabled,"onUpdate:modelValue":t[3]||(t[3]=a=>o.value.enabled=a),"dict-code":"yesOrNo"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),l(e(m),{span:24},{default:u(()=>[l(e(d),{label:e(r)("oauth.icon"),prop:"icon"},{default:u(()=>[l(y,{modelValue:o.value.icon,"onUpdate:modelValue":t[4]||(t[4]=a=>o.value.icon=a)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1}),l(e(U),{gutter:20},{default:u(()=>[l(e(m),{span:24},{default:u(()=>[l(e(d),{label:"Client ID",prop:"clientId"},{default:u(()=>[l(e(i),{modelValue:o.value.clientId,"onUpdate:modelValue":t[5]||(t[5]=a=>o.value.clientId=a),placeholder:"clientId"},null,8,["modelValue"])]),_:1})]),_:1}),l(e(m),{span:24},{default:u(()=>[l(e(d),{label:"Client Secret",prop:"clientSecret"},{default:u(()=>[l(e(i),{modelValue:o.value.clientSecret,"onUpdate:modelValue":t[6]||(t[6]=a=>o.value.clientSecret=a),type:"password","show-password":"",placeholder:"secret"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(e(d),{label:e(r)("oauth.redirectUrl"),prop:"redirectUrl"},{default:u(()=>[l(e(i),{modelValue:o.value.redirectUrl,"onUpdate:modelValue":t[7]||(t[7]=a=>o.value.redirectUrl=a),placeholder:`https://yourdomain.com/thirdAuth/callback/{${e(r)("oauth.platform")}}`},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(e(s),null,{default:u(()=>[v(n(e(r)("oauth.authConfig")),1)]),_:1}),l(e(d),{label:e(r)("oauth.authUrl"),prop:"authUrl"},{default:u(()=>[l(e(i),{modelValue:o.value.authUrl,"onUpdate:modelValue":t[8]||(t[8]=a=>o.value.authUrl=a),placeholder:"https://open.weixin.qq.com/connect/qrconnect"},null,8,["modelValue"])]),_:1},8,["label"]),p("div",F,n(`${e(r)("oauth.paramConfig")}`),1),l(V,{modelValue:o.value.authHttpConfig.params,"onUpdate:modelValue":t[9]||(t[9]=a=>o.value.authHttpConfig.params=a)},null,8,["modelValue"]),l(e(s),null,{default:u(()=>[v(n(e(r)("oauth.tokenConfig")),1)]),_:1}),l(e(d),{label:e(r)("oauth.tokenUrl"),prop:"tokenUrl"},{default:u(()=>[l(e(i),{modelValue:o.value.tokenUrl,"onUpdate:modelValue":t[10]||(t[10]=a=>o.value.tokenUrl=a),placeholder:"https://api.weixin.qq.com/sns/oauth2/access_token"},null,8,["modelValue"])]),_:1},8,["label"]),l(e(d),{label:e(r)("oauth.method"),prop:"tokenHttpConfig.method"},{default:u(()=>[l(e(I),{modelValue:o.value.tokenHttpConfig.method,"onUpdate:modelValue":t[11]||(t[11]=a=>o.value.tokenHttpConfig.method=a)},{default:u(()=>[l(e(f),{label:"GET",value:"get"}),l(e(f),{label:"POST",value:"post"})]),_:1},8,["modelValue"])]),_:1},8,["label"]),p("div",J,n(e(r)("oauth.headerConfig")),1),l(C,{modelValue:o.value.tokenHttpConfig.headers,"onUpdate:modelValue":t[12]||(t[12]=a=>o.value.tokenHttpConfig.headers=a)},null,8,["modelValue"]),p("div",M,n(e(r)("oauth.paramConfig")),1),l(V,{modelValue:o.value.tokenHttpConfig.params,"onUpdate:modelValue":t[13]||(t[13]=a=>o.value.tokenHttpConfig.params=a)},null,8,["modelValue"]),l(e(s),null,{default:u(()=>[v(n(e(r)("oauth.userInfoConfig")),1)]),_:1}),l(e(d),{label:e(r)("oauth.userInfoUrl"),prop:"userInfoUrl"},{default:u(()=>[l(e(i),{modelValue:o.value.userInfoUrl,"onUpdate:modelValue":t[14]||(t[14]=a=>o.value.userInfoUrl=a),placeholder:"https://api.weixin.qq.com/sns/userinfo"},null,8,["modelValue"])]),_:1},8,["label"]),l(e(d),{label:e(r)("oauth.method"),prop:"userInfoHttpConfig.method"},{default:u(()=>[l(e(I),{modelValue:o.value.userInfoHttpConfig.method,"onUpdate:modelValue":t[15]||(t[15]=a=>o.value.userInfoHttpConfig.method=a)},{default:u(()=>[l(e(f),{label:"GET",value:"get"}),l(e(f),{label:"POST",value:"post"})]),_:1},8,["modelValue"])]),_:1},8,["label"]),p("div",T,n(e(r)("oauth.headerConfig")),1),l(C,{modelValue:o.value.userInfoHttpConfig.headers,"onUpdate:modelValue":t[16]||(t[16]=a=>o.value.userInfoHttpConfig.headers=a)},null,8,["modelValue"]),p("div",A,n(e(r)("oauth.paramConfig")),1),l(V,{modelValue:o.value.userInfoHttpConfig.params,"onUpdate:modelValue":t[17]||(t[17]=a=>o.value.userInfoHttpConfig.params=a)},null,8,["modelValue"]),p("div",P,n(e(r)("oauth.fieldMapping")),1),l(x,{modelValue:o.value.userInfoHttpConfig.fieldMapping,"onUpdate:modelValue":t[18]||(t[18]=a=>o.value.userInfoHttpConfig.fieldMapping=a)},null,8,["modelValue"])]),_:1},8,["model"])]),_:1}),l(e(b),{class:"preview-card",shadow:"never"},{header:u(()=>[p("div",$,[p("span",null,n(e(r)("oauth.configPreview")),1)])]),default:u(()=>[p("pre",B,n(JSON.stringify(o.value,null,2)),1)]),_:1})]))}},Re=k(G,[["__scopeId","data-v-dbcbdd92"]]);export{Re as default};
