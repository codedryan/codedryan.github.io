import{a1 as y,T as v,$ as U}from"./bootstrap-Bf65uz2I.js";import"./css-gf8D6QlL.js";import"./css-BA5xAVBz.js";import{E as b}from"./index-e0qsk5Ci.js";import{ElButton as B}from"./index-oBOAcXl-.js";import{k as L,r as i,B as S,n as k,u as o,E as p,J as E,L as g,y as w}from"../jse/index-index-D3Xb8oT_.js";const x={VITE_GLOB_API_URL:"http://pro.api.aiflowy.tech"},R=L({__name:"Upload",props:{action:{type:String,default:"/api/v1/commons/upload"},tips:{type:String,default:""},limit:{type:Number,default:1},multiple:{type:Boolean,default:!1}},emits:["success","handleDelete","handlePreview","beforeUpload"],setup(n,{emit:r}){const a=n,s=r,{apiURL:c}=y(x,!0),m=v(),u=i({"aiflowy-token":m.accessToken}),l=i([]),d=e=>{s("beforeUpload",e)},f=(e,t)=>{s("handleDelete",e,t)},_=e=>{s("success",e.data.path)};return(e,t)=>(k(),S(o(b),{"file-list":l.value,"onUpdate:fileList":t[0]||(t[0]=h=>l.value=h),class:"upload-demo",headers:u.value,action:`${o(c)}${a.action}`,multiple:a.multiple,"before-upload":d,"on-remove":f,limit:a.limit,"on-success":_},{default:p(()=>[E(o(B),{type:"primary"},{default:p(()=>[g(w(o(U)("button.upload")),1)]),_:1})]),_:1},8,["file-list","headers","action","multiple","limit"]))}});export{R as _};
