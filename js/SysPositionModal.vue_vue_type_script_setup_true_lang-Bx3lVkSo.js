var U=Object.defineProperty;var N=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var k=(m,i,r)=>i in m?U(m,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):m[i]=r,C=(m,i)=>{for(var r in i||(i={}))F.call(i,r)&&k(m,r,i[r]);if(N)for(var r of N(i))w.call(i,r)&&k(m,r,i[r]);return m};import{$ as a,M as B,R as S}from"./bootstrap-Bf65uz2I.js";import"./css-gf8D6QlL.js";import{E as I}from"./el-dialog-CAR1-R4U.js";import"./el-overlay-Zuw8glOl.js";/* empty css                */import{E as h,a as v}from"./el-form-item-8FQp7Cs4.js";import"./css-C9o_OfXA.js";import"./css-B4xXAc0m.js";import{D as L}from"./DictSelect-DdOvS-6R.js";import{ElInput as V}from"./index-BjDsryRX.js";import{ElInputNumber as $}from"./index-9UPoHQm1.js";import{ElButton as E}from"./index-oBOAcXl-.js";import{k as A,r as n,B as J,n as R,E as u,J as s,u as e,L as P,y as x}from"../jse/index-index-D3Xb8oT_.js";const le=A({__name:"SysPositionModal",emits:["reload"],setup(m,{expose:i,emit:r}){const _=r;i({openDialog:D});const b=n(),g=n(!1),p=n(!0),o=n({positionName:"",positionCode:"",sortNo:0,status:1,remark:""}),f=n(!1),q=n({positionName:[{required:!0,message:a("message.required"),trigger:"blur"}],positionCode:[{required:!0,message:a("message.required"),trigger:"blur"}],status:[{required:!0,message:a("message.required"),trigger:"change"}]});function D(d){d.id?(p.value=!1,o.value=C({},d)):(p.value=!0,o.value={sortNo:0,status:1}),g.value=!0}function M(){var d;(d=b.value)==null||d.validate(l=>{if(l){f.value=!0;const t=p.value?"/api/v1/sysPosition/save":"/api/v1/sysPosition/update";B.post(t,o.value).then(y=>{f.value=!1,y.errorCode===0&&(S.success(y.message),_("reload"),c())}).catch(()=>{f.value=!1})}})}function c(){var d;(d=b.value)==null||d.resetFields(),p.value=!0,o.value={},g.value=!1}return(d,l)=>(R(),J(e(I),{modelValue:g.value,"onUpdate:modelValue":l[5]||(l[5]=t=>g.value=t),draggable:"",title:p.value?e(a)("button.add"):e(a)("button.edit"),"before-close":c,"close-on-click-modal":!1,width:"500px"},{footer:u(()=>[s(e(E),{onClick:c},{default:u(()=>[P(x(e(a)("button.cancel")),1)]),_:1}),s(e(E),{type:"primary",onClick:M,loading:f.value,disabled:f.value},{default:u(()=>[P(x(e(a)("button.save")),1)]),_:1},8,["loading","disabled"])]),default:u(()=>[s(e(h),{"label-width":"100px",ref_key:"saveForm",ref:b,model:o.value,"status-icon":"",rules:q.value},{default:u(()=>[s(e(v),{prop:"positionName",label:e(a)("sysPosition.positionName")||"岗位名称"},{default:u(()=>[s(e(V),{modelValue:o.value.positionName,"onUpdate:modelValue":l[0]||(l[0]=t=>o.value.positionName=t),modelModifiers:{trim:!0},placeholder:e(a)("sysPosition.placeholder.positionName")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),s(e(v),{prop:"positionCode",label:e(a)("sysPosition.positionCode")||"岗位编码"},{default:u(()=>[s(e(V),{modelValue:o.value.positionCode,"onUpdate:modelValue":l[1]||(l[1]=t=>o.value.positionCode=t),modelModifiers:{trim:!0},placeholder:e(a)("sysPosition.placeholder.positionCode")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),s(e(v),{prop:"sortNo",label:e(a)("sysPosition.sortNo")||"排序"},{default:u(()=>[s(e($),{modelValue:o.value.sortNo,"onUpdate:modelValue":l[2]||(l[2]=t=>o.value.sortNo=t),min:0,max:999,style:{width:"100%"}},null,8,["modelValue"])]),_:1},8,["label"]),s(e(v),{prop:"status",label:e(a)("sysPosition.status")||"状态"},{default:u(()=>[s(L,{modelValue:o.value.status,"onUpdate:modelValue":l[3]||(l[3]=t=>o.value.status=t),"dict-code":"dataStatus"},null,8,["modelValue"])]),_:1},8,["label"]),s(e(v),{prop:"remark",label:e(a)("sysPosition.remark")},{default:u(()=>[s(e(V),{modelValue:o.value.remark,"onUpdate:modelValue":l[4]||(l[4]=t=>o.value.remark=t),modelModifiers:{trim:!0},type:"textarea",rows:3},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"]))}});export{le as _};
