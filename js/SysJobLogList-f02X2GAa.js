import{a9 as k,as as D,$ as s,aL as T}from"./bootstrap-Bf65uz2I.js";import"./css-gf8D6QlL.js";/* empty css                */import{a as y,E as w}from"./el-form-item-8FQp7Cs4.js";import{E as I,a as m}from"./el-table-JPhh2aff.js";import"./css-_QzOlLq8.js";/* empty css                   *//* empty css                  *//* empty css                     *//* empty css                        *//* empty css               */import{D as $}from"./DictSelect-DdOvS-6R.js";import{_ as x}from"./PageData.vue_vue_type_script_setup_true_lang-DfbAOXk_.js";import{u as C}from"./dict-CsbZy8Qf.js";import{ElButton as f}from"./index-oBOAcXl-.js";import{k as N,o as V,r as c,m as q,n as S,q as v,J as o,E as e,L as i,y as l,u as t}from"../jse/index-index-D3Xb8oT_.js";import"./use-form-common-props-IzjzSHax.js";import"./castArray-BBset58W.js";import"./index-Bxb6QITi.js";import"./_baseClone-trfKWgGN.js";import"./index-CbSmxnRE.js";import"./util-B2mB0_6C.js";import"./index-bT9OJj6t.js";import"./_overRest-Bb9G3v08.js";import"./index-CMBjNRIa.js";import"./index-B3qAv2kq.js";import"./aria-DEUWDJ1E.js";import"./merge-BysAs727.js";import"./isArrayLikeObject-j3RaJGb0.js";import"./_baseSlice-DZe_dRSe.js";import"./_baseIteratee-rJjBrWyx.js";import"./debounce-AsHllEOy.js";import"./toNumber-CvayJyp9.js";import"./index-p7kg-xKH.js";import"./event-BB_Ol6Sd.js";import"./use-form-item-DVWmmqeW.js";import"./index-Dg3fRnQE.js";import"./omit-CbyqVLxv.js";import"./index-pv0R11Cf.js";import"./raf-BVBe43_O.js";/* empty css                  */import"./index-DcZY4wgD.js";import"./index-DGdiZ7pE.js";import"./useProps-DNCnrLfW.js";import"./_baseFindIndex-D7XfJLKM.js";import"./strings-CGsg9AfI.js";import"./index-m1ZP1zbM.js";import"./scroll-C2492Iw_.js";import"./clamp-CeuJyDnc.js";import"./vnode-DysYOGZN.js";import"./el-empty-CDAlv280.js";import"./el-pagination-W2lJTIgw.js";import"./index-BjDsryRX.js";import"./index-C33Sf0pH.js";import"./css-C9o_OfXA.js";const B={class:"page-container"},F={class:"mb-3"},ht=N({__name:"SysJobLogList",setup(P){const g=k(),j=D();V(()=>{L()});const b=c(),d=c(),n=c({status:""}),_=C();function L(){_.fetchDictionary("jobResult")}function R(p){p==null||p.validate(a=>{a&&d.value.setQuery(n.value)})}function J(p){p==null||p.resetFields(),d.value.setQuery({})}return(p,a)=>(S(),q("div",B,[v("div",F,[o(t(f),{icon:t(T),onClick:a[0]||(a[0]=u=>t(g).back())},{default:e(()=>[i(l(t(s)("button.back")),1)]),_:1},8,["icon"])]),o(t(w),{ref_key:"formRef",ref:b,inline:!0,model:n.value},{default:e(()=>[o(t(y),{label:t(s)("sysJobLog.status"),prop:"status"},{default:e(()=>[o($,{modelValue:n.value.status,"onUpdate:modelValue":a[1]||(a[1]=u=>n.value.status=u),"dict-code":"jobResult"},null,8,["modelValue"])]),_:1},8,["label"]),o(t(y),null,{default:e(()=>[o(t(f),{onClick:a[2]||(a[2]=u=>R(b.value)),type:"primary"},{default:e(()=>[i(l(t(s)("button.query")),1)]),_:1}),o(t(f),{onClick:a[3]||(a[3]=u=>J(b.value))},{default:e(()=>[i(l(t(s)("button.reset")),1)]),_:1})]),_:1})]),_:1},8,["model"]),a[4]||(a[4]=v("div",{class:"handle-div"},null,-1)),o(x,{ref_key:"pageDataRef",ref:d,"page-url":"/api/v1/sysJobLog/page","extra-query-params":{jobId:t(j).query.jobId},"page-size":10},{default:e(({pageList:u})=>[o(t(I),{data:u,border:""},{default:e(()=>[o(t(m),{prop:"jobName",label:t(s)("sysJobLog.jobName")},{default:e(({row:r})=>[i(l(r.jobName),1)]),_:1},8,["label"]),o(t(m),{"show-overflow-tooltip":"",prop:"jobParams",label:t(s)("sysJobLog.jobParams")},{default:e(({row:r})=>[i(l(r.jobParams),1)]),_:1},8,["label"]),o(t(m),{"show-overflow-tooltip":"",prop:"jobResult",label:t(s)("sysJobLog.jobResult")},{default:e(({row:r})=>[i(l(r.jobResult),1)]),_:1},8,["label"]),o(t(m),{prop:"errorInfo",label:t(s)("sysJobLog.errorInfo")},{default:e(({row:r})=>[i(l(r.errorInfo),1)]),_:1},8,["label"]),o(t(m),{prop:"status",label:t(s)("sysJobLog.status")},{default:e(({row:r})=>[i(l(t(_).getDictLabel("jobResult",r.status)),1)]),_:1},8,["label"]),o(t(m),{width:"180",prop:"startTime",label:t(s)("sysJobLog.startTime")},{default:e(({row:r})=>[i(l(r.startTime),1)]),_:1},8,["label"]),o(t(m),{width:"180",prop:"endTime",label:t(s)("sysJobLog.endTime")},{default:e(({row:r})=>[i(l(r.endTime),1)]),_:1},8,["label"])]),_:1},8,["data"])]),_:1},8,["extra-query-params"])]))}});export{ht as default};
