var h=Object.defineProperty;var R=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var E=(m,a,l)=>a in m?h(m,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):m[a]=l,B=(m,a)=>{for(var l in a||(a={}))w.call(a,l)&&E(m,l,a[l]);if(R)for(var l of R(a))A.call(a,l)&&E(m,l,a[l]);return m};import{$ as s,Z as T,a3 as K,Y as P,M as V,R as q}from"./bootstrap-Bf65uz2I.js";import"./css-gf8D6QlL.js";import{E as L,a as M,b as F}from"./el-dropdown-menu-v2KdT220.js";/* empty css                  *//* empty css                     *//* empty css                */import{a as D,E as N}from"./el-form-item-8FQp7Cs4.js";import"./css-C9o_OfXA.js";import{E as Q}from"./el-message-box-B8o3mhYx.js";import"./el-overlay-Zuw8glOl.js";import{E as S,a as g}from"./el-table-JPhh2aff.js";import"./css-_QzOlLq8.js";/* empty css                   *//* empty css                        *//* empty css               */import{_ as j}from"./PageData.vue_vue_type_script_setup_true_lang-DfbAOXk_.js";import{_ as z}from"./SysApiKeyResourcePermissionModal.vue_vue_type_script_setup_true_lang-CFGNXIs5.js";import{ElInput as J}from"./index-BjDsryRX.js";import{ElButton as f}from"./index-oBOAcXl-.js";import{k as U,r as y,T as Y,m as Z,n as G,J as t,q as b,E as o,u as e,L as p,y as d}from"../jse/index-index-D3Xb8oT_.js";const H={class:"page-container !m-0 !pl-0"},O={class:"flex items-center justify-between"},W={class:"mb-5"},X={class:"flex items-center gap-3"},Ce=U({__name:"SysApiKeyResourcePermissionList",setup(m){const a=y(),l=y(),k=y(),_=y({id:""});function x(i){i==null||i.validate(n=>{n&&l.value.setQuery(_.value)})}function v(i){i==null||i.resetFields(),l.value.setQuery({})}function C(i){k.value.openDialog(B({},i))}function I(i){Q.confirm(s("message.deleteAlert"),s("message.noticeTitle"),{confirmButtonText:s("message.ok"),cancelButtonText:s("message.cancel"),type:"warning",beforeClose:(n,c,r)=>{n==="confirm"?(c.confirmButtonLoading=!0,V.post("/api/v1/sysApiKeyResourcePermission/remove",{id:i.id}).then(u=>{c.confirmButtonLoading=!1,u.errorCode===0&&(q.success(u.message),v(a.value),r())}).catch(()=>{c.confirmButtonLoading=!1})):r()}}).catch(()=>{})}return(i,n)=>{const c=Y("ElIcon");return G(),Z("div",H,[t(z,{ref_key:"saveDialog",ref:k,onReload:v},null,512),b("div",O,[t(e(N),{ref_key:"formRef",ref:a,inline:!0,model:_.value},{default:o(()=>[t(e(D),{prop:"title",class:"!mr-3"},{default:o(()=>[t(e(J),{modelValue:_.value.title,"onUpdate:modelValue":n[0]||(n[0]=r=>_.value.title=r),placeholder:e(s)("sysApiKeyResourcePermission.title")},null,8,["modelValue","placeholder"])]),_:1}),t(e(D),null,{default:o(()=>[t(e(f),{onClick:n[1]||(n[1]=r=>x(a.value)),type:"primary"},{default:o(()=>[p(d(e(s)("button.query")),1)]),_:1}),t(e(f),{onClick:n[2]||(n[2]=r=>v(a.value))},{default:o(()=>[p(d(e(s)("button.reset")),1)]),_:1})]),_:1})]),_:1},8,["model"]),b("div",W,[t(e(f),{onClick:n[3]||(n[3]=r=>C({})),type:"primary"},{default:o(()=>[t(c,{class:"mr-1"},{default:o(()=>[t(e(T))]),_:1}),p(" "+d(e(s)("button.add")),1)]),_:1})])]),t(j,{ref_key:"pageDataRef",ref:l,"page-url":"/api/v1/sysApiKeyResourcePermission/page","page-size":10},{default:o(({pageList:r})=>[t(e(S),{data:r,border:""},{default:o(()=>[t(e(g),{prop:"requestInterface",label:e(s)("sysApiKeyResourcePermission.requestInterface")},{default:o(({row:u})=>[p(d(u.requestInterface),1)]),_:1},8,["label"]),t(e(g),{prop:"title",label:e(s)("sysApiKeyResourcePermission.title")},{default:o(({row:u})=>[p(d(u.title),1)]),_:1},8,["label"]),t(e(g),{label:e(s)("common.handle"),width:"90",align:"right"},{default:o(({row:u})=>[b("div",X,[t(e(f),{link:"",type:"primary",onClick:$=>C(u)},{default:o(()=>[p(d(e(s)("button.edit")),1)]),_:1},8,["onClick"]),t(e(L),null,{dropdown:o(()=>[t(e(M),null,{default:o(()=>[t(e(F),{onClick:$=>I(u)},{default:o(()=>[t(e(f),{link:"",icon:e(P),type:"danger"},{default:o(()=>[p(d(e(s)("button.delete")),1)]),_:1},8,["icon"])]),_:1},8,["onClick"])]),_:2},1024)]),default:o(()=>[t(e(f),{link:"",icon:e(K)},null,8,["icon"])]),_:2},1024)])]),_:1},8,["label"])]),_:1},8,["data"])]),_:1},512)])}}});export{Ce as _};
