import{$ as t,aa as S,ab as N,M as w,R as F}from"./bootstrap-Bf65uz2I.js";import"./css-gf8D6QlL.js";import{E as D}from"./el-dialog-CAR1-R4U.js";import"./el-overlay-Zuw8glOl.js";/* empty css                */import{E as B,a as s}from"./el-form-item-8FQp7Cs4.js";import"./css-C9o_OfXA.js";/* empty css                  *//* empty css               *//* empty css                     *//* empty css                  */import{D as V}from"./DictSelect-DdOvS-6R.js";import{ElInput as m}from"./index-BjDsryRX.js";import{E as C,a as _}from"./index-DcZY4wgD.js";import{ElButton as y}from"./index-oBOAcXl-.js";import{k as L,o as $,r as d,B as M,n as g,E as r,J as u,u as e,m as O,F as z,N as A,L as T,y as U}from"../jse/index-index-D3Xb8oT_.js";const ue=L({__name:"SysMenuModal",emits:["reload"],setup(J,{expose:k,emit:E}){const I=E;$(()=>{}),k({openDialog:q});const f=d(),p=d(!1),v=d(!0),a=d({parentId:"",menuType:"",menuTitle:"",menuUrl:"",component:"",menuIcon:"",isShow:"",permissionTag:"",sortNo:"",status:"",remark:""}),i=d(!1),c=d({parentId:[{required:!0,message:t("message.required"),trigger:"blur"}],menuType:[{required:!0,message:t("message.required"),trigger:"blur"}],menuTitle:[{required:!0,message:t("message.required"),trigger:"blur"}],isShow:[{required:!0,message:t("message.required"),trigger:"blur"}],status:[{required:!0,message:t("message.required"),trigger:"blur"}]});function q(n){n.id&&(v.value=!1),a.value=n,p.value=!0}function x(){var n;(n=f.value)==null||n.validate(o=>{o&&(i.value=!0,w.post(v.value?"api/v1/sysMenu/save":"api/v1/sysMenu/update",a.value).then(l=>{i.value=!1,l.errorCode===0&&(F.success(l.message),I("reload"),b())}).catch(()=>{i.value=!1}))})}function b(){var n;(n=f.value)==null||n.resetFields(),v.value=!0,a.value={},p.value=!1}return(n,o)=>(g(),M(e(D),{modelValue:p.value,"onUpdate:modelValue":o[11]||(o[11]=l=>p.value=l),draggable:"",title:v.value?e(t)("button.add"):e(t)("button.edit"),"before-close":b,"close-on-click-modal":!1,"z-index":1999},{footer:r(()=>[u(e(y),{onClick:b},{default:r(()=>[T(U(e(t)("button.cancel")),1)]),_:1}),u(e(y),{type:"primary",onClick:x,loading:i.value,disabled:i.value},{default:r(()=>[T(U(e(t)("button.save")),1)]),_:1},8,["loading","disabled"])]),default:r(()=>[u(e(B),{"label-width":"120px",ref_key:"saveForm",ref:f,model:a.value,"status-icon":"",rules:c.value},{default:r(()=>[u(e(s),{prop:"parentId",label:e(t)("sysMenu.parentId")},{default:r(()=>[u(V,{"extra-options":[{label:e(t)("sysMenu.root"),value:0}],modelValue:a.value.parentId,"onUpdate:modelValue":o[0]||(o[0]=l=>a.value.parentId=l),"dict-code":"sysMenu"},null,8,["extra-options","modelValue"])]),_:1},8,["label"]),u(e(s),{prop:"menuType",label:e(t)("sysMenu.menuType")},{default:r(()=>[u(V,{modelValue:a.value.menuType,"onUpdate:modelValue":o[1]||(o[1]=l=>a.value.menuType=l),"dict-code":"menuType"},null,8,["modelValue"])]),_:1},8,["label"]),u(e(s),{prop:"menuTitle",label:e(t)("sysMenu.menuTitle")},{default:r(()=>[u(e(m),{modelValue:a.value.menuTitle,"onUpdate:modelValue":o[2]||(o[2]=l=>a.value.menuTitle=l),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1},8,["label"]),u(e(s),{prop:"menuUrl",label:e(t)("sysMenu.menuUrl")},{default:r(()=>[u(e(m),{modelValue:a.value.menuUrl,"onUpdate:modelValue":o[3]||(o[3]=l=>a.value.menuUrl=l),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1},8,["label"]),u(e(s),{prop:"component",label:e(t)("sysMenu.component")},{default:r(()=>[u(e(m),{modelValue:a.value.component,"onUpdate:modelValue":o[5]||(o[5]=l=>a.value.component=l),modelModifiers:{trim:!0}},{append:r(()=>[u(e(C),{modelValue:a.value.component,"onUpdate:modelValue":o[4]||(o[4]=l=>a.value.component=l),filterable:"",style:{width:"100px"}},{default:r(()=>[(g(!0),O(z,null,A(e(S),l=>(g(),M(e(_),{key:l,label:l,value:l},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]),_:1},8,["label"]),u(e(s),{prop:"menuIcon",label:e(t)("sysMenu.menuIcon")},{default:r(()=>[u(e(N),{modelValue:a.value.menuIcon,"onUpdate:modelValue":o[6]||(o[6]=l=>a.value.menuIcon=l)},null,8,["modelValue"])]),_:1},8,["label"]),u(e(s),{prop:"isShow",label:e(t)("sysMenu.isShow")},{default:r(()=>[u(V,{modelValue:a.value.isShow,"onUpdate:modelValue":o[7]||(o[7]=l=>a.value.isShow=l),"dict-code":"yesOrNo"},null,8,["modelValue"])]),_:1},8,["label"]),u(e(s),{prop:"permissionTag",label:e(t)("sysMenu.permissionTag")},{default:r(()=>[u(e(m),{modelValue:a.value.permissionTag,"onUpdate:modelValue":o[8]||(o[8]=l=>a.value.permissionTag=l),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1},8,["label"]),u(e(s),{prop:"sortNo",label:e(t)("sysMenu.sortNo")},{default:r(()=>[u(e(m),{modelValue:a.value.sortNo,"onUpdate:modelValue":o[9]||(o[9]=l=>a.value.sortNo=l),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1},8,["label"]),u(e(s),{prop:"remark",label:e(t)("sysMenu.remark")},{default:r(()=>[u(e(m),{modelValue:a.value.remark,"onUpdate:modelValue":o[10]||(o[10]=l=>a.value.remark=l),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"]))}});export{ue as _};
