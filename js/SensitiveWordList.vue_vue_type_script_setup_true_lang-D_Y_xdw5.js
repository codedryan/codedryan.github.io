var N=Object.defineProperty;var w=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var x=(n,o,t)=>o in n?N(n,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[o]=t,C=(n,o)=>{for(var t in o||(o={}))Q.call(o,t)&&x(n,t,o[t]);if(w)for(var t of w(o))V.call(o,t)&&x(n,t,o[t]);return n};import{$ as s,a7 as q,Z as E,a3 as z,a8 as A,Y as J,M as O,R as U}from"./bootstrap-Bf65uz2I.js";import"./css-gf8D6QlL.js";import{E as Y,a as Z,b as W}from"./el-dropdown-menu-v2KdT220.js";/* empty css                  *//* empty css                     */import{E as j}from"./el-message-box-B8o3mhYx.js";import"./css-C9o_OfXA.js";import"./el-overlay-Zuw8glOl.js";import{E as G,a as k}from"./el-table-JPhh2aff.js";import"./css-_QzOlLq8.js";/* empty css                   *//* empty css                        *//* empty css               */import{H as K}from"./HeaderSearch-Dj9rqjlr.js";import{_ as X}from"./PageData.vue_vue_type_script_setup_true_lang-DfbAOXk_.js";import{_ as ee}from"./SensitiveWordModal.vue_vue_type_script_setup_true_lang-C3nVgGJG.js";import{ElButton as _}from"./index-oBOAcXl-.js";import{k as ae,r as v,S as g,H as te,m as b,n as h,J as a,q as I,E as r,u as e,L as p,y as u,I as S}from"../jse/index-index-D3Xb8oT_.js";const oe={class:"flex h-full flex-col gap-6"},ie={class:"bg-background border-border flex-1 rounded-lg border p-5"},se={class:"flex items-center gap-3"},xe=ae({__name:"SensitiveWordList",props:{packageId:{type:String,default:""}},emits:["childBack"],setup(n,{emit:o}){const t=n,F=o,R=v(),m=v(),f=v();function y(i){i==null||i.resetFields(),m.value.setQuery({})}function D(i){f.value.openDialog(C({},i),!1)}function T(){f.value.openDialog({packageId:t.packageId},!0)}function $(i){j.confirm(s("message.deleteAlert"),s("message.noticeTitle"),{confirmButtonText:s("message.ok"),cancelButtonText:s("message.cancel"),type:"warning",beforeClose:(B,l,d)=>{B==="confirm"?(l.confirmButtonLoading=!0,O.post("/api/v1/sensitiveWord/remove",{id:i.id}).then(c=>{l.confirmButtonLoading=!1,c.errorCode===0&&(U.success(c.message),y(R.value),d())}).catch(()=>{l.confirmButtonLoading=!1})):d()}}).catch(()=>{})}const L=[{key:"back",text:s("button.back"),icon:g(q),data:{action:"back"}},{key:"importFile",text:s("button.importFile"),icon:g(E),type:"primary",data:{action:"importFile"},permission:"/api/v1/sensitiveWordPackage/save"},{key:"create",text:s("button.add"),icon:g(E),type:"primary",data:{action:"create"},permission:"/api/v1/sensitiveWordPackage/save"}],H=i=>{m.value.setQuery({wordDesc:i,isQueryOr:!0})},M=i=>{switch(i.key){case"back":{F("childBack");break}case"create":{D({packageId:t.packageId});break}case"importFile":{T();break}}};return(i,B)=>{const l=te("access");return h(),b("div",oe,[a(ee,{ref_key:"saveDialog",ref:f,onReload:y},null,512),a(K,{buttons:L,onSearch:H,onButtonClick:M}),I("div",ie,[a(X,{ref_key:"pageDataRef",ref:m,"page-url":"/api/v1/sensitiveWord/page","page-size":10},{default:r(({pageList:d})=>[a(e(G),{data:d,border:""},{default:r(()=>[a(e(k),{prop:"wordDesc",label:e(s)("sensitiveWord.wordDesc")},{default:r(({row:c})=>[p(u(c.wordDesc),1)]),_:1},8,["label"]),a(e(k),{prop:"created",label:e(s)("sensitiveWord.created")},{default:r(({row:c})=>[p(u(c.created),1)]),_:1},8,["label"]),a(e(k),{label:e(s)("common.handle"),width:"90"},{default:r(({row:c})=>[I("div",se,[a(e(Y),null,{dropdown:r(()=>[a(e(Z),null,{default:r(()=>[S((h(),b("div",null,[a(e(W),{onClick:P=>D(c)},{default:r(()=>[a(e(_),{type:"primary",icon:e(A),link:""},{default:r(()=>[p(u(e(s)("button.edit")),1)]),_:1},8,["icon"])]),_:1},8,["onClick"])])),[[l,"/api/v1/sensitiveWordPackage/save","code"]]),S((h(),b("div",null,[a(e(W),{onClick:P=>$(c)},{default:r(()=>[a(e(_),{type:"danger",icon:e(J),link:""},{default:r(()=>[p(u(e(s)("button.delete")),1)]),_:1},8,["icon"])]),_:1},8,["onClick"])])),[[l,"/api/v1/sensitiveWordPackage/remove","code"]])]),_:2},1024)]),default:r(()=>[a(e(_),{link:"",icon:e(z)},null,8,["icon"])]),_:2},1024)])]),_:1},8,["label"])]),_:1},8,["data"])]),_:1},512)])])}}});export{xe as _};
