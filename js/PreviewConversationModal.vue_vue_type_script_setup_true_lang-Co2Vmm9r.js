import{M as h}from"./bootstrap-Bf65uz2I.js";import"./css-gf8D6QlL.js";import{E as w}from"./el-dialog-CAR1-R4U.js";import"./el-overlay-Zuw8glOl.js";import{ElButton as y}from"./index-oBOAcXl-.js";import{k,r as l,B as b,n as r,E as i,q as o,m as d,F as C,N as E,p as V,s as v,y as c,J as N,u as f,L as B}from"../jse/index-index-D3Xb8oT_.js";const F={class:"max-h-[500px] overflow-auto p-4"},g={class:"whitespace-pre-wrap text-sm text-[#333]"},D={class:"mt-2 text-center text-xs text-[#999]"},M={class:"flex justify-end"},$=k({__name:"PreviewConversationModal",setup(S,{expose:x}){const s=l(!1),u=l(""),p=l(""),n=l([]),_=t=>{u.value=t.id,p.value=t.summary,h.get("/api/v1/botMessage/list",{params:{conversationId:t.id,sortKey:"id",sortType:"asc"}}).then(a=>{n.value=a.data}),s.value=!0},m=()=>{s.value=!1,u.value="",p.value="",n.value=[]};return x({openDialog:_}),(t,a)=>(r(),b(f(w),{modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=e=>s.value=e),title:t.$t("dataMark.previewSession"),width:"700px","close-on-click-modal":!1,onClose:m},{footer:i(()=>[o("div",M,[N(f(y),{onClick:m},{default:i(()=>[B(c(t.$t("button.close")),1)]),_:1})])]),default:i(()=>[o("div",F,[(r(!0),d(C,null,E(n.value,e=>(r(),d("div",{key:e.id,class:"mb-4"},[["user","assistant"].includes(e.role)?(r(),d("div",{key:0,class:v(["flex gap-3",e.role==="user"?"justify-end":"justify-start"])},[o("div",{class:v(["max-w-[70%] rounded-[12px] p-3 shadow-sm",{"border border-[#E0E0E0] bg-white":e.role==="user","bg-[#F0F8FF]":e.role==="assistant"}])},[o("div",g,c(e.role==="user"?JSON.parse(e.content).content:JSON.parse(e.content).fullContent),1),o("div",D,c(e.created),1)],2)],2)):V("",!0)]))),128))])]),_:1},8,["modelValue","title"]))}});export{$ as _};
