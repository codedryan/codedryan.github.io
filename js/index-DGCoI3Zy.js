var Pe=Object.defineProperty,Ce=Object.defineProperties;var De=Object.getOwnPropertyDescriptors;var X=Object.getOwnPropertySymbols;var Ee=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable;var Z=(a,t,s)=>t in a?Pe(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s,K=(a,t)=>{for(var s in t||(t={}))Ee.call(t,s)&&Z(a,s,t[s]);if(X)for(var s of X(t))Re.call(t,s)&&Z(a,s,t[s]);return a},U=(a,t)=>Ce(a,De(t));import{k as ae,i as Oe,c as _,r as te,m as Ae,p as we,n as Ie,q as h,s as f,u as r,y as w,J as I,A as xe,aI as R,b as Q,X as Ve,D as Ne}from"../jse/index-index-D3Xb8oT_.js";import{t as Me,P as ye,u as Fe,a as Ke,T as W,b as Ue,c as Le,d as qe,e as He,D as Be,C as Ye,f as je}from"./panel-time-pick-Dcp5yKq_.js";import{n as jn,o as Jn,R as $n,g as Gn,h as zn,i as Xn,j as Zn,k as Qn,l as Wn,m as ea,p as na,r as aa,s as ta,w as sa,q as oa,v as ra}from"./panel-time-pick-Dcp5yKq_.js";import{dn as L,dp as se,dq as Je,dr as $e,bm as Ge,bn as ze,an as Xe,br as Ze,ao as ee,bv as Qe,bx as We,aq as en}from"./bootstrap-Bf65uz2I.js";import{b as nn}from"./index-bT9OJj6t.js";import{b as an,i as tn}from"./isArrayLikeObject-j3RaJGb0.js";import{b as sn}from"./_baseFindIndex-D7XfJLKM.js";import{U as ne}from"./event-BB_Ol6Sd.js";import"./index-BjDsryRX.js";import"./index-C33Sf0pH.js";import"./use-form-item-DVWmmqeW.js";import"./index-Bxb6QITi.js";import"./use-form-common-props-IzjzSHax.js";import"./index-m1ZP1zbM.js";import"./aria-DEUWDJ1E.js";import"./_overRest-Bb9G3v08.js";import"./index-CMBjNRIa.js";import"./index-B3qAv2kq.js";import"./index-CbSmxnRE.js";import"./util-B2mB0_6C.js";import"./index-BKzCwxYe.js";import"./debounce-AsHllEOy.js";import"./toNumber-CvayJyp9.js";function on(){}function rn(a){return a!==a}function ln(a,t,s){for(var c=s-1,d=a.length;++c<d;)if(a[c]===t)return c;return-1}function cn(a,t,s){return t===t?ln(a,t,s):sn(a,rn,s)}function un(a,t){var s=a==null?0:a.length;return!!s&&cn(a,t,0)>-1}var pn=1/0,dn=L&&1/se(new L([,-0]))[1]==pn?function(a){return new L(a)}:on,mn=200;function fn(a,t,s){var c=-1,d=un,b=a.length,o=!0,v=[],m=v;if(b>=mn){var S=dn(a);if(S)return se(S);o=!1,d=$e,m=new Je}else m=v;e:for(;++c<b;){var k=a[c],T=k;if(k=k!==0?k:0,o&&T===T){for(var O=m.length;O--;)if(m[O]===T)continue e;v.push(k)}else d(m,T,s)||(m!==v&&m.push(T),v.push(k))}return v}var q=an(function(a){return fn(nn(a,1,tn,!0))});const bn=Ge(U(K({},Me),{parsedValue:{type:ze(Array)}})),vn=ae({__name:"panel-time-range",props:bn,emits:["pick","select-range","set-picker-option"],setup(a,{emit:t}){const s=a,c=(e,n)=>{const i=[];for(let l=e;l<=n;l++)i.push(l);return i},{t:d,lang:b}=Ze(),o=ee("time"),v=ee("picker"),m=Oe(ye),{arrowControl:S,disabledHours:k,disabledMinutes:T,disabledSeconds:O,defaultValue:x}=m.props,oe=_(()=>[o.be("range-picker","body"),o.be("panel","content"),o.is("arrow",S),D.value?"has-seconds":""]),re=_(()=>[o.be("range-picker","body"),o.be("panel","content"),o.is("arrow",S),D.value?"has-seconds":""]),P=_(()=>s.parsedValue[0]),C=_(()=>s.parsedValue[1]),H=Fe(s),ie=()=>{const e=H.value;t("pick",e,!1),xe(()=>{H.value=e})},D=_(()=>s.format.includes("ss")),B=_(()=>s.format.includes("A")?"A":s.format.includes("a")?"a":""),le=(e=!1)=>{t("pick",[P.value,C.value],e)},ce=e=>{Y(e.millisecond(0),C.value)},ue=e=>{Y(P.value,e.millisecond(0))},pe=e=>{const n=e.map(l=>R(l).locale(b.value)),i=J(n);return n[0].isSame(i[0])&&n[1].isSame(i[1])},Y=(e,n)=>{s.visible&&t("pick",[e,n],!0)},de=_(()=>P.value>C.value),A=te([0,2]),me=(e,n)=>{t("select-range",e,n,"min"),A.value=[e,n]},j=_(()=>D.value?11:8),fe=(e,n)=>{t("select-range",e,n,"max");const i=r(j);A.value=[e+i,n+i]},be=e=>{const n=D.value?[0,3,6,11,14,17]:[0,3,8,11],i=["hours","minutes"].concat(D.value?["seconds"]:[]),u=(n.indexOf(A.value[0])+e+n.length)%n.length,p=n.length/2;u<p?y.start_emitSelectRange(i[u]):y.end_emitSelectRange(i[u-p])},ve=e=>{const n=Qe(e),{left:i,right:l,up:u,down:p}=We;if([i,l].includes(n)){be(n===i?-1:1),e.preventDefault();return}if([u,p].includes(n)){const g=n===u?-1:1,E=A.value[0]<j.value?"start":"end";y[`${E}_scrollDown`](g),e.preventDefault();return}},V=(e,n)=>{const i=k?k(e):[],l=e==="start",p=(n||(l?C.value:P.value)).hour(),g=l?c(p+1,23):c(0,p-1);return q(i,g)},N=(e,n,i)=>{const l=T?T(e,n):[],u=n==="start",p=i||(u?C.value:P.value),g=p.hour();if(e!==g)return l;const E=p.minute(),F=u?c(E+1,59):c(0,E-1);return q(l,F)},M=(e,n,i,l)=>{const u=O?O(e,n,i):[],p=i==="start",g=l||(p?C.value:P.value),E=g.hour(),F=g.minute();if(e!==E||n!==F)return u;const z=g.second(),Se=p?c(z+1,59):c(0,z-1);return q(u,Se)},J=([e,n])=>[$(e,"start",!0,n),$(n,"end",!1,e)],{getAvailableHours:ge,getAvailableMinutes:he,getAvailableSeconds:ke}=Ue(V,N,M),{timePickerOptions:y,getAvailableTime:$,onSetOption:G}=Ke({getAvailableHours:ge,getAvailableMinutes:he,getAvailableSeconds:ke}),Te=e=>e?Q(e)?e.map(n=>R(n,s.format).locale(b.value)):R(e,s.format).locale(b.value):null,_e=()=>{if(Q(x))return x.map(n=>R(n).locale(b.value));const e=R(x).locale(b.value);return[e,e.add(60,"m")]};return t("set-picker-option",["parseUserInput",Te]),t("set-picker-option",["isValidValue",pe]),t("set-picker-option",["handleKeydownInput",ve]),t("set-picker-option",["getDefaultValue",_e]),t("set-picker-option",["getRangeAvailableTime",J]),(e,n)=>e.actualVisible?(Ie(),Ae("div",{key:0,class:f([r(o).b("range-picker"),r(v).b("panel")])},[h("div",{class:f(r(o).be("range-picker","content"))},[h("div",{class:f(r(o).be("range-picker","cell"))},[h("div",{class:f(r(o).be("range-picker","header"))},w(r(d)("el.datepicker.startTime")),3),h("div",{class:f(r(oe))},[I(W,{ref:"minSpinner",role:"start","show-seconds":r(D),"am-pm-mode":r(B),"arrow-control":r(S),"spinner-date":r(P),"disabled-hours":V,"disabled-minutes":N,"disabled-seconds":M,onChange:ce,onSetOption:r(G),onSelectRange:me},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),h("div",{class:f(r(o).be("range-picker","cell"))},[h("div",{class:f(r(o).be("range-picker","header"))},w(r(d)("el.datepicker.endTime")),3),h("div",{class:f(r(re))},[I(W,{ref:"maxSpinner",role:"end","show-seconds":r(D),"am-pm-mode":r(B),"arrow-control":r(S),"spinner-date":r(C),"disabled-hours":V,"disabled-minutes":N,"disabled-seconds":M,onChange:ue,onSetOption:r(G),onSelectRange:fe},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),h("div",{class:f(r(o).be("panel","footer"))},[h("button",{type:"button",class:f([r(o).be("panel","btn"),"cancel"]),onClick:i=>ie()},w(r(d)("el.datepicker.cancel")),11,["onClick"]),h("button",{type:"button",class:f([r(o).be("panel","btn"),"confirm"]),disabled:r(de),onClick:i=>le()},w(r(d)("el.datepicker.confirm")),11,["disabled","onClick"])],2)],2)):we("v-if",!0)}});var gn=Xe(vn,[["__file","panel-time-range.vue"]]);R.extend(je);var hn=ae({name:"ElTimePicker",install:null,props:U(K({},Le),{isRange:Boolean}),emits:[ne],setup(a,t){const s=te(),[c,d]=a.isRange?["timerange",gn]:["time",qe],b=o=>t.emit(ne,o);return Ve(He,a.popperOptions),t.expose({focus:()=>{var o;(o=s.value)==null||o.focus()},blur:()=>{var o;(o=s.value)==null||o.blur()},handleOpen:()=>{var o;(o=s.value)==null||o.handleOpen()},handleClose:()=>{var o;(o=s.value)==null||o.handleClose()}}),()=>{var o;const v=(o=a.format)!=null?o:Be;return I(Ye,Ne(a,{ref:s,type:c,format:v,"onUpdate:modelValue":b}),{default:m=>I(d,m,null)})}}});const Hn=en(hn);export{Ye as CommonPicker,jn as DEFAULT_FORMATS_DATE,Jn as DEFAULT_FORMATS_DATEPICKER,Be as DEFAULT_FORMATS_TIME,Hn as ElTimePicker,ye as PICKER_BASE_INJECTION_KEY,He as PICKER_POPPER_OPTIONS_INJECTION_KEY,$n as ROOT_COMMON_PICKER_INJECTION_KEY,qe as TimePickPanel,Gn as buildTimeList,zn as dateEquals,Xn as dayOrDaysToDate,Hn as default,Zn as extractDateFormat,Qn as extractTimeFormat,Wn as formatter,ea as makeList,na as parseDate,aa as rangeArr,Le as timePickerDefaultProps,ta as timePickerRangeTriggerProps,sa as timePickerRngeTriggerProps,oa as timeUnits,ra as valueEquals};
