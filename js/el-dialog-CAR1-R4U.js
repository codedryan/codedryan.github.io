var Ie=Object.defineProperty,_e=Object.defineProperties;var Se=Object.getOwnPropertyDescriptors;var ne=Object.getOwnPropertySymbols;var Te=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable;var te=(e,s,t)=>s in e?Ie(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,L=(e,s)=>{for(var t in s||(s={}))Te.call(s,t)&&te(e,t,s[t]);if(ne)for(var t of ne(s))Be.call(s,t)&&te(e,t,s[t]);return e},V=(e,s)=>_e(e,Se(s));import{bm as ve,bB as ke,an as ge,br as Fe,cC as Pe,V as $e,bA as Oe,bn as re,cD as Le,c3 as Ne,cE as Me,bC as Re,d as ze,cF as ie,i as Ve,ao as je,ap as qe,bQ as Ue,aq as Ke}from"./bootstrap-Bf65uz2I.js";import{u as Ge,a as Je,E as Ze,b as Qe}from"./el-overlay-Zuw8glOl.js";import{F as We,t as Xe,E as Ye,a as He}from"./index-B3qAv2kq.js";import{c as xe}from"./refs-D6FW0B1r.js";import{k as U,i as ue,c as d,m as Y,n as k,q as j,p as ee,x as _,s as E,u as o,y as eo,J as q,E as D,B as oe,V as oo,z as me,g as lo,r as S,aj as ao,b as so,d as de,w as H,o as no,A as to,ah as ro,D as ce,I as io,a7 as uo,X as co}from"../jse/index-index-D3Xb8oT_.js";import{U as ye}from"./event-BB_Ol6Sd.js";import{u as fe}from"./index-Bxb6QITi.js";import{u as fo}from"./index-Dg3fRnQE.js";const be=Symbol("dialogInjectionKey"),x="dialog-fade",pe=ve({center:Boolean,alignCenter:{type:Boolean,default:void 0},closeIcon:{type:ke},draggable:{type:Boolean,default:void 0},overflow:{type:Boolean,default:void 0},fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),vo={close:()=>!0},go=U({name:"ElDialogContent"}),mo=U(V(L({},go),{props:pe,emits:vo,setup(e,{expose:s}){const t=e,{t:N}=Fe(),{Close:u}=Pe,{dialogRef:g,headerRef:w,bodyId:A,ns:r,style:c}=ue(be),{focusTrapRef:b}=ue(We),p=xe(b,g),C=d(()=>!!t.draggable),v=d(()=>!!t.overflow),{resetPosition:m,updatePosition:T,isDragging:F}=Ge(g,w,C,v),h=d(()=>[r.b(),r.is("fullscreen",t.fullscreen),r.is("draggable",C.value),r.is("dragging",F.value),r.is("align-center",!!t.alignCenter),{[r.m("center")]:t.center}]);return s({resetPosition:m,updatePosition:T}),(i,B)=>(k(),Y("div",{ref:o(p),class:E(o(h)),style:me(o(c)),tabindex:"-1"},[j("header",{ref_key:"headerRef",ref:w,class:E([o(r).e("header"),i.headerClass,{"show-close":i.showClose}])},[_(i.$slots,"header",{},()=>[j("span",{role:"heading","aria-level":i.ariaLevel,class:E(o(r).e("title"))},eo(i.title),11,["aria-level"])]),i.showClose?(k(),Y("button",{key:0,"aria-label":o(N)("el.dialog.close"),class:E(o(r).e("headerbtn")),type:"button",onClick:P=>i.$emit("close")},[q(o($e),{class:E(o(r).e("close"))},{default:D(()=>[(k(),oe(oo(i.closeIcon||o(u))))]),_:1},8,["class"])],10,["aria-label","onClick"])):ee("v-if",!0)],2),j("div",{id:o(A),class:E([o(r).e("body"),i.bodyClass])},[_(i.$slots,"default")],10,["id"]),i.$slots.footer?(k(),Y("footer",{key:0,class:E([o(r).e("footer"),i.footerClass])},[_(i.$slots,"footer")],2)):ee("v-if",!0)],6))}}));var yo=ge(mo,[["__file","dialog-content.vue"]]);const bo=ve(V(L({},pe),{appendToBody:Boolean,appendTo:{type:Xe.to.type,default:"body"},beforeClose:{type:re(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},modalPenetrable:Boolean,openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"},transition:{type:re([String,Object]),default:void 0}})),po={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ye]:e=>Oe(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},Co="ElDialog",ho=(e,s)=>{var t;const u=lo().emit,{nextZIndex:g}=Le();let w="";const A=fe(),r=fe(),c=S(!1),b=S(!1),p=S(!1),C=S((t=e.zIndex)!=null?t:g());let v,m;const T=Ne(),F=d(()=>{var l,n;return(n=(l=T.value)==null?void 0:l.namespace)!=null?n:Me}),h=d(()=>{var l;return(l=T.value)==null?void 0:l.dialog}),i=d(()=>{const l={},n=`--${F.value}-dialog`;return e.fullscreen||(e.top&&(l[`${n}-margin-top`]=e.top),e.width&&(l[`${n}-width`]=Re(e.width))),l}),B=d(()=>{var l,n,f;return((f=(n=e.draggable)!=null?n:(l=h.value)==null?void 0:l.draggable)!=null?f:!1)&&!e.fullscreen}),P=d(()=>{var l,n,f;return(f=(n=e.alignCenter)!=null?n:(l=h.value)==null?void 0:l.alignCenter)!=null?f:!1}),K=d(()=>{var l,n,f;return(f=(n=e.overflow)!=null?n:(l=h.value)==null?void 0:l.overflow)!=null?f:!1}),G=d(()=>P.value?{display:"flex"}:{}),J=d(()=>{var l,n,f;const W=(f=(n=e.transition)!=null?n:(l=h.value)==null?void 0:l.transition)!=null?f:x,we={name:W,onAfterEnter:$,onBeforeLeave:O,onAfterLeave:I};if(ao(W)){const y=L({},W),X=(z,Ae)=>ae=>{so(z)?z.forEach(se=>{de(se)&&se(ae)}):de(z)&&z(ae),Ae()};return y.onAfterEnter=X(y.onAfterEnter,$),y.onBeforeLeave=X(y.onBeforeLeave,O),y.onAfterLeave=X(y.onAfterLeave,I),y.name||(y.name=x,ze(Co,`transition.name is missing when using object syntax, fallback to '${x}'`)),y}return we});function $(){u("opened")}function I(){u("closed"),u(ye,!1),e.destroyOnClose&&(p.value=!1)}function O(){u("close")}function Z(){m==null||m(),v==null||v(),e.openDelay&&e.openDelay>0?{stop:v}=ie(()=>le(),e.openDelay):le()}function a(){v==null||v(),m==null||m(),e.closeDelay&&e.closeDelay>0?{stop:m}=ie(()=>Q(),e.closeDelay):Q()}function M(){function l(n){n||(b.value=!0,c.value=!1)}e.beforeClose?e.beforeClose(l):a()}function R(){e.closeOnClickModal&&M()}function le(){Ve&&(c.value=!0)}function Q(){c.value=!1}function Ce(){u("openAutoFocus")}function he(){u("closeAutoFocus")}function Ee(l){var n;((n=l.detail)==null?void 0:n.focusReason)==="pointer"&&l.preventDefault()}e.lockScroll&&Je(c);function De(){e.closeOnPressEscape&&M()}return H(()=>e.zIndex,()=>{var l;C.value=(l=e.zIndex)!=null?l:g()}),H(()=>e.modelValue,l=>{var n;l?(b.value=!1,Z(),p.value=!0,C.value=(n=e.zIndex)!=null?n:g(),to(()=>{u("open"),s.value&&(s.value.parentElement.scrollTop=0,s.value.parentElement.scrollLeft=0,s.value.scrollTop=0)})):c.value&&a()}),H(()=>e.fullscreen,l=>{s.value&&(l?(w=s.value.style.transform,s.value.style.transform=""):s.value.style.transform=w)}),no(()=>{e.modelValue&&(c.value=!0,p.value=!0,Z())}),{afterEnter:$,afterLeave:I,beforeLeave:O,handleClose:M,onModalClick:R,close:a,doClose:Q,onOpenAutoFocus:Ce,onCloseAutoFocus:he,onCloseRequested:De,onFocusoutPrevented:Ee,titleId:A,bodyId:r,closed:b,style:i,overlayDialogStyle:G,rendered:p,visible:c,zIndex:C,transitionConfig:J,_draggable:B,_alignCenter:P,_overflow:K}},Eo=U({name:"ElDialog",inheritAttrs:!1}),Do=U(V(L({},Eo),{props:bo,emits:po,setup(e,{expose:s}){const t=e,N=ro();fo({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},d(()=>!!N.title));const u=je("dialog"),g=S(),w=S(),A=S(),{visible:r,titleId:c,bodyId:b,style:p,overlayDialogStyle:C,rendered:v,transitionConfig:m,zIndex:T,_draggable:F,_alignCenter:h,_overflow:i,handleClose:B,onModalClick:P,onOpenAutoFocus:K,onCloseAutoFocus:G,onCloseRequested:J,onFocusoutPrevented:$}=ho(t,g);co(be,{dialogRef:g,headerRef:w,bodyId:b,ns:u,rendered:v,style:p});const I=Qe(P),O=d(()=>t.modalPenetrable&&!t.modal&&!t.fullscreen);return s({visible:r,dialogContentRef:A,resetPosition:()=>{var a;(a=A.value)==null||a.resetPosition()},handleClose:B}),(a,M)=>(k(),oe(o(He),{to:a.appendTo,disabled:a.appendTo!=="body"?!1:!a.appendToBody},{default:D(()=>[q(qe,ce(o(m),{persisted:""}),{default:D(()=>{var R;return[io(q(o(Ze),{"custom-mask-event":"",mask:a.modal,"overlay-class":[(R=a.modalClass)!=null?R:"",`${o(u).namespace.value}-modal-dialog`,o(u).is("penetrable",o(O))],"z-index":o(T)},{default:D(()=>[j("div",{role:"dialog","aria-modal":"true","aria-label":a.title||void 0,"aria-labelledby":a.title?void 0:o(c),"aria-describedby":o(b),class:E(`${o(u).namespace.value}-overlay-dialog`),style:me(o(C)),onClick:o(I).onClick,onMousedown:o(I).onMousedown,onMouseup:o(I).onMouseup},[q(o(Ye),{loop:"",trapped:o(r),"focus-start-el":"container",onFocusAfterTrapped:o(K),onFocusAfterReleased:o(G),onFocusoutPrevented:o($),onReleaseRequested:o(J)},{default:D(()=>[o(v)?(k(),oe(yo,ce({key:0,ref_key:"dialogContentRef",ref:A},a.$attrs,{center:a.center,"align-center":o(h),"close-icon":a.closeIcon,draggable:o(F),overflow:o(i),fullscreen:a.fullscreen,"header-class":a.headerClass,"body-class":a.bodyClass,"footer-class":a.footerClass,"show-close":a.showClose,title:a.title,"aria-level":a.headerAriaLevel,onClose:o(B)}),uo({header:D(()=>[a.$slots.title?_(a.$slots,"title",{key:1}):_(a.$slots,"header",{key:0,close:o(B),titleId:o(c),titleClass:o(u).e("title")})]),default:D(()=>[_(a.$slots,"default")]),_:2},[a.$slots.footer?{name:"footer",fn:D(()=>[_(a.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","header-class","body-class","footer-class","show-close","title","aria-level","onClose"])):ee("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[Ue,o(r)]])]}),_:3},16)]),_:3},8,["to","disabled"]))}}));var wo=ge(Do,[["__file","dialog.vue"]]);const $o=Ke(wo);export{$o as E,bo as a,po as d,ho as u};
