var w=Object.defineProperty;var v=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var h=(m,a,o)=>a in m?w(m,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):m[a]=o,D=(m,a)=>{for(var o in a||(a={}))S.call(a,o)&&h(m,o,a[o]);if(v)for(var o of v(a))N.call(a,o)&&h(m,o,a[o]);return m};import{$ as n,Z as L,a3 as M,Y as R,M as I,R as Q,aI as V}from"./bootstrap-Bf65uz2I.js";import"./css-gf8D6QlL.js";import{E as q,a as H,b as z}from"./el-dropdown-menu-v2KdT220.js";/* empty css                  *//* empty css                     */import{E as A}from"./el-message-box-B8o3mhYx.js";import"./css-C9o_OfXA.js";import"./el-overlay-Zuw8glOl.js";import{E as F,a as f}from"./el-table-JPhh2aff.js";import"./css-_QzOlLq8.js";/* empty css                   *//* empty css                        *//* empty css               */import{H as J}from"./HeaderSearch-Dj9rqjlr.js";import{_ as O}from"./PageData.vue_vue_type_script_setup_true_lang-DfbAOXk_.js";import{u as P}from"./dict-CsbZy8Qf.js";import{_ as Y}from"./DatacenterTableModal.vue_vue_type_script_setup_true_lang-CF61omOh.js";import{ElButton as b}from"./index-oBOAcXl-.js";import{k as Z,o as j,r as y,S as G,m as K,n as U,J as t,q as _,E as r,u as e,L as s,y as c}from"../jse/index-index-D3Xb8oT_.js";import"./index-CMBjNRIa.js";import"./index-bT9OJj6t.js";import"./_overRest-Bb9G3v08.js";import"./index-B3qAv2kq.js";import"./aria-DEUWDJ1E.js";import"./index-Bxb6QITi.js";import"./use-form-common-props-IzjzSHax.js";import"./index-CbSmxnRE.js";import"./util-B2mB0_6C.js";import"./castArray-BBset58W.js";import"./refs-D6FW0B1r.js";import"./index-BjDsryRX.js";import"./event-BB_Ol6Sd.js";import"./index-C33Sf0pH.js";import"./use-form-item-DVWmmqeW.js";import"./index-m1ZP1zbM.js";import"./validator-D2YZey62.js";import"./vnode-DysYOGZN.js";import"./scroll-C2492Iw_.js";import"./merge-BysAs727.js";import"./_baseClone-trfKWgGN.js";import"./isArrayLikeObject-j3RaJGb0.js";import"./_baseSlice-DZe_dRSe.js";import"./_baseIteratee-rJjBrWyx.js";import"./debounce-AsHllEOy.js";import"./toNumber-CvayJyp9.js";import"./index-p7kg-xKH.js";import"./index-Dg3fRnQE.js";import"./omit-CbyqVLxv.js";import"./index-pv0R11Cf.js";import"./raf-BVBe43_O.js";import"./hasPermission-CIdLHqw4.js";import"./el-empty-CDAlv280.js";import"./el-pagination-W2lJTIgw.js";import"./index-DcZY4wgD.js";import"./index-DGdiZ7pE.js";import"./useProps-DNCnrLfW.js";import"./_baseFindIndex-D7XfJLKM.js";import"./strings-CGsg9AfI.js";import"./clamp-CeuJyDnc.js";/* empty css                  */import"./el-dialog-CAR1-R4U.js";/* empty css                */import"./el-form-item-8FQp7Cs4.js";const W={class:"flex h-full flex-col gap-6 p-6"},X={class:"bg-background border-border flex-1 rounded-lg border p-5"},ee={class:"flex items-center gap-3"},te={class:"flex items-center"},dt=Z({__name:"DatacenterTableList",setup(m){j(()=>{B()});const a=y(),o=y(),T=P(),x=[{key:"create",text:n("button.add"),icon:G(L),type:"primary",data:{action:"create"},permission:"/api/v1/datacenterTable/save"}];function B(){T.fetchDictionary("dataStatus")}const C=i=>{a.value.setQuery({tableName:i,isQueryOr:!0})};function g(i){i==null||i.resetFields(),a.value.setQuery({})}function k(i){o.value.openDialog(D({},i))}function E(i){A.confirm(n("message.deleteAlert"),n("message.noticeTitle"),{confirmButtonText:n("message.ok"),cancelButtonText:n("message.cancel"),type:"warning",beforeClose:(u,p,l)=>{u==="confirm"?(p.confirmButtonLoading=!0,I.get(`/api/v1/datacenterTable/removeTable?tableId=${i.id}`).then(d=>{p.confirmButtonLoading=!1,d.errorCode===0&&(Q.success(d.message),g(),l())}).catch(()=>{p.confirmButtonLoading=!1})):l()}}).catch(()=>{})}function $(i){V.push({name:"TableDetail",query:{tableId:i.id}})}return(i,u)=>(U(),K("div",W,[t(Y,{ref_key:"saveDialog",ref:o,onReload:g},null,512),t(J,{buttons:x,onSearch:C,onButtonClick:u[0]||(u[0]=p=>k({}))}),_("div",X,[t(O,{ref_key:"pageDataRef",ref:a,"page-url":"/api/v1/datacenterTable/page","page-size":10},{default:r(({pageList:p})=>[t(e(F),{data:p,border:""},{default:r(()=>[t(e(f),{prop:"tableName",label:e(n)("datacenterTable.tableName")},{default:r(({row:l})=>[s(c(l.tableName),1)]),_:1},8,["label"]),t(e(f),{prop:"tableDesc",label:e(n)("datacenterTable.tableDesc")},{default:r(({row:l})=>[s(c(l.tableDesc),1)]),_:1},8,["label"]),t(e(f),{prop:"created",label:e(n)("datacenterTable.created")},{default:r(({row:l})=>[s(c(l.created),1)]),_:1},8,["label"]),t(e(f),{label:e(n)("common.handle"),width:"140",align:"right"},{default:r(({row:l})=>[_("div",ee,[_("div",te,[t(e(b),{link:"",type:"primary",onClick:d=>$(l)},{default:r(()=>[s(c(e(n)("button.view")),1)]),_:1},8,["onClick"]),t(e(b),{link:"",type:"primary",onClick:d=>k(l)},{default:r(()=>[s(c(e(n)("button.edit")),1)]),_:1},8,["onClick"])]),t(e(q),null,{dropdown:r(()=>[t(e(H),null,{default:r(()=>[t(e(z),{onClick:d=>E(l)},{default:r(()=>[t(e(b),{link:"",icon:e(R),type:"danger"},{default:r(()=>[s(c(e(n)("button.delete")),1)]),_:1},8,["icon"])]),_:1},8,["onClick"])]),_:2},1024)]),default:r(()=>[t(e(b),{link:"",icon:e(M)},null,8,["icon"])]),_:2},1024)])]),_:1},8,["label"])]),_:1},8,["data"])]),_:1},512)])]))}});export{dt as default};
