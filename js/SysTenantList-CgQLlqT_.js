var L=Object.defineProperty;var k=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var v=(c,i,n)=>i in c?L(c,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):c[i]=n,T=(c,i)=>{for(var n in i||(i={}))$.call(i,n)&&v(c,n,i[n]);if(k)for(var n of k(i))I.call(i,n)&&v(c,n,i[n]);return c};import{$ as r,Z as M,a3 as R,Y as A,M as H,R as O}from"./bootstrap-Bf65uz2I.js";import"./css-gf8D6QlL.js";import{E as Q,a as V,b as P}from"./el-dropdown-menu-v2KdT220.js";/* empty css                  *//* empty css                     */import{E as q}from"./el-message-box-B8o3mhYx.js";import"./css-C9o_OfXA.js";import"./el-overlay-Zuw8glOl.js";import{E as z,a as m}from"./el-table-JPhh2aff.js";import"./css-_QzOlLq8.js";/* empty css                   *//* empty css                        *//* empty css               */import{H as F}from"./HeaderSearch-Dj9rqjlr.js";import{_ as J}from"./PageData.vue_vue_type_script_setup_true_lang-DfbAOXk_.js";import{u as Y}from"./dict-CsbZy8Qf.js";import{_ as Z}from"./SysTenantModal.vue_vue_type_script_setup_true_lang-CmwcPrHL.js";import{ElButton as g}from"./index-oBOAcXl-.js";import{k as j,o as G,r as h,S as K,H as U,m as D,n as x,J as a,q as C,E as o,u as e,L as l,y as p,I as W}from"../jse/index-index-D3Xb8oT_.js";import"./index-CMBjNRIa.js";import"./index-bT9OJj6t.js";import"./_overRest-Bb9G3v08.js";import"./index-B3qAv2kq.js";import"./aria-DEUWDJ1E.js";import"./index-Bxb6QITi.js";import"./use-form-common-props-IzjzSHax.js";import"./index-CbSmxnRE.js";import"./util-B2mB0_6C.js";import"./castArray-BBset58W.js";import"./refs-D6FW0B1r.js";import"./index-BjDsryRX.js";import"./event-BB_Ol6Sd.js";import"./index-C33Sf0pH.js";import"./use-form-item-DVWmmqeW.js";import"./index-m1ZP1zbM.js";import"./validator-D2YZey62.js";import"./vnode-DysYOGZN.js";import"./scroll-C2492Iw_.js";import"./merge-BysAs727.js";import"./_baseClone-trfKWgGN.js";import"./isArrayLikeObject-j3RaJGb0.js";import"./_baseSlice-DZe_dRSe.js";import"./_baseIteratee-rJjBrWyx.js";import"./debounce-AsHllEOy.js";import"./toNumber-CvayJyp9.js";import"./index-p7kg-xKH.js";import"./index-Dg3fRnQE.js";import"./omit-CbyqVLxv.js";import"./index-pv0R11Cf.js";import"./raf-BVBe43_O.js";import"./hasPermission-CIdLHqw4.js";import"./el-empty-CDAlv280.js";import"./el-pagination-W2lJTIgw.js";import"./index-DcZY4wgD.js";import"./index-DGdiZ7pE.js";import"./useProps-DNCnrLfW.js";import"./_baseFindIndex-D7XfJLKM.js";import"./strings-CGsg9AfI.js";import"./clamp-CeuJyDnc.js";/* empty css                  */import"./css-Dv7ceDvX.js";import"./el-dialog-CAR1-R4U.js";/* empty css                */import"./el-form-item-8FQp7Cs4.js";import"./DictSelect-DdOvS-6R.js";import"./index-Dwe-AimY.js";import"./panel-time-pick-Dcp5yKq_.js";import"./index-BKzCwxYe.js";const X={class:"flex h-full flex-col gap-6 p-6"},ee={class:"bg-background border-border flex-1 rounded-lg border p-5"},te={class:"flex items-center gap-3"},bt=j({__name:"SysTenantList",setup(c){G(()=>{w()});const i=h(),n=h(),f=Y(),B=[{key:"create",text:r("button.add"),icon:K(M),type:"primary",data:{action:"create"},permission:"/api/v1/sysTenant/save"}];function w(){f.fetchDictionary("yesOrNo"),f.fetchDictionary("sysPackage")}const E=s=>{i.value.setQuery({tenantName:s,isQueryOr:!0})};function b(s){s==null||s.resetFields(),i.value.setQuery({})}function y(s){n.value.openDialog(T({},s))}function N(s){q.confirm(r("message.deleteAlert"),r("message.noticeTitle"),{confirmButtonText:r("message.ok"),cancelButtonText:r("message.cancel"),type:"warning",beforeClose:(_,d,u)=>{_==="confirm"?(d.confirmButtonLoading=!0,H.post("/api/v1/sysTenant/remove",{id:s.id}).then(t=>{d.confirmButtonLoading=!1,t.errorCode===0&&(O.success(t.message),b(),u())}).catch(()=>{d.confirmButtonLoading=!1})):u()}}).catch(()=>{})}return(s,_)=>{const d=U("access");return x(),D("div",X,[a(Z,{ref_key:"saveDialog",ref:n,onReload:b},null,512),a(F,{buttons:B,onSearch:E,onButtonClick:_[0]||(_[0]=u=>y({}))}),C("div",ee,[a(J,{ref_key:"pageDataRef",ref:i,"page-url":"/api/v1/sysTenant/page","page-size":10},{default:o(({pageList:u})=>[a(e(z),{data:u,border:""},{default:o(()=>[a(e(m),{prop:"tenantCode",label:e(r)("sysTenant.tenantCode")},{default:o(({row:t})=>[l(p(t.tenantCode),1)]),_:1},8,["label"]),a(e(m),{prop:"tenantName",label:e(r)("sysTenant.tenantName")},{default:o(({row:t})=>[l(p(t.tenantName),1)]),_:1},8,["label"]),a(e(m),{prop:"manageAccount",label:e(r)("sysTenant.manageAccount")},{default:o(({row:t})=>[l(p(t.manageAccount),1)]),_:1},8,["label"]),a(e(m),{prop:"expireTime",label:e(r)("sysTenant.expireTime")},{default:o(({row:t})=>[l(p(t.expireTime.substring(0,10)),1)]),_:1},8,["label"]),a(e(m),{prop:"packageId",label:e(r)("sysTenant.packageId")},{default:o(({row:t})=>[l(p(e(f).getDictLabel("sysPackage",t.packageId)),1)]),_:1},8,["label"]),a(e(m),{prop:"status",label:e(r)("sysTenant.status")},{default:o(({row:t})=>[l(p(e(f).getDictLabel("yesOrNo",t.status)),1)]),_:1},8,["label"]),a(e(m),{prop:"created",label:e(r)("sysTenant.created")},{default:o(({row:t})=>[l(p(t.created),1)]),_:1},8,["label"]),a(e(m),{prop:"remark",label:e(r)("sysTenant.remark")},{default:o(({row:t})=>[l(p(t.remark),1)]),_:1},8,["label"]),a(e(m),{label:e(r)("common.handle"),width:"90",align:"right"},{default:o(({row:t})=>[C("div",te,[a(e(g),{link:"",type:"primary",onClick:S=>y(t)},{default:o(()=>[l(p(e(r)("button.edit")),1)]),_:1},8,["onClick"]),a(e(Q),null,{dropdown:o(()=>[a(e(V),null,{default:o(()=>[W((x(),D("div",null,[a(e(P),{onClick:S=>N(t)},{default:o(()=>[a(e(g),{type:"danger",icon:e(A),link:""},{default:o(()=>[l(p(e(r)("button.delete")),1)]),_:1},8,["icon"])]),_:1},8,["onClick"])])),[[d,"/api/v1/sysTenant/remove","code"]])]),_:2},1024)]),default:o(()=>[a(e(g),{link:"",icon:e(R)},null,8,["icon"])]),_:2},1024)])]),_:1},8,["label"])]),_:1},8,["data"])]),_:1},512)])])}}});export{bt as default};
