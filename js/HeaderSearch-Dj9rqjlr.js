import{_ as H,$ as c,X as P,V as w,aG as $}from"./bootstrap-Bf65uz2I.js";import"./css-gf8D6QlL.js";import{a as q,b as A,E as F}from"./el-dropdown-menu-v2KdT220.js";/* empty css                  *//* empty css                     */import"./css-C9o_OfXA.js";import{h as K}from"./hasPermission-CIdLHqw4.js";import{ElInput as L}from"./index-BjDsryRX.js";import{ElButton as y}from"./index-oBOAcXl-.js";import{r as T,c as B,H as G,m as k,n as o,q as r,J as l,u as t,E as s,L as f,y as i,x as J,B as d,p as V,F as x,N as g,I as M,V as R}from"../jse/index-index-D3Xb8oT_.js";const U={class:"custom-header"},X={class:"header-left"},j={class:"search-container"},z={class:"header-right"},O={style:{"margin-left":"8px"}},Q={__name:"HeaderSearch",props:{buttons:{type:Array,default:()=>[],validator:_=>_.every(n=>typeof n.text=="string"&&(n.key||typeof n.key=="string"))},maxVisibleButtons:{type:Number,default:3},searchPlaceholder:{type:String,default:c("common.searchPlaceholder")},customComponents:{type:Array,default:()=>[]}},emits:["search","button-click","buttonClick"],setup(_,{emit:n}){const u=_,m=n,p=T(""),b=B(()=>u.buttons.slice(0,u.maxVisibleButtons)),v=B(()=>{const a=u.buttons.slice(u.maxVisibleButtons);return a.length===0?[]:a.value.filter(h=>K([h.permission]))}),C=()=>{m("search",p.value)},E=()=>{p.value="",m("search","")},D=a=>{m("buttonClick",{type:"button",key:a.key,button:a,data:a.data})},N=a=>{m("buttonClick",{type:"dropdown",key:a.key,button:a,data:a.data})};return(a,h)=>{const S=G("access");return o(),k("div",U,[r("div",X,[r("div",j,[r("div",null,[l(t(L),{modelValue:p.value,"onUpdate:modelValue":h[0]||(h[0]=e=>p.value=e),placeholder:t(c)("common.searchPlaceholder"),class:"search-input",onKeyup:P(C,["enter"]),clearable:""},null,8,["modelValue","placeholder"])]),r("div",null,[l(t(y),{type:"primary","auto-insert-space":"",onClick:C},{default:s(()=>[f(i(t(c)("button.query")),1)]),_:1})]),r("div",null,[l(t(y),{"auto-insert-space":"",onClick:E},{default:s(()=>[f(i(t(c)("button.reset")),1)]),_:1})])])]),r("div",z,[J(a.$slots,"custom-button",{},void 0,!0),(o(!0),k(x,null,g(b.value,(e,I)=>M((o(),d(t(y),{key:e.key||I,type:e.type||"default",icon:e.icon,disabled:e.disabled,onClick:W=>D(e)},{default:s(()=>[f(i(e.text),1)]),_:2},1032,["type","icon","disabled","onClick"])),[[S,e.permission,"code"]])),128)),v.value.length>0?(o(),d(t(F),{key:0,onCommand:N},{dropdown:s(()=>[l(t(q),null,{default:s(()=>[(o(!0),k(x,null,g(v.value,e=>(o(),d(t(A),{key:e.key,command:e,disabled:e.disabled},{default:s(()=>[e.icon?(o(),d(t(w),{key:0},{default:s(()=>[(o(),d(R(e.icon)))]),_:2},1024)):V("",!0),r("span",O,i(e.text),1)]),_:2},1032,["command","disabled"]))),128))]),_:1})]),default:s(()=>[l(t(y),null,{default:s(()=>[f(i(t(c)("button.more")),1),l(t(w),{class:"el-icon--right"},{default:s(()=>[l(t($))]),_:1})]),_:1})]),_:1})):V("",!0)])])}}},ce=H(Q,[["__scopeId","data-v-2c41afb5"]]);export{ce as H};
