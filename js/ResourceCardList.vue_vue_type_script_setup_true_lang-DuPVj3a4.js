var P=Object.defineProperty;var h=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var k=(t,r,e)=>r in t?P(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e,V=(t,r)=>{for(var e in r||(r={}))R.call(r,e)&&k(t,e,r[e]);if(h)for(var e of h(r))S.call(r,e)&&k(t,e,r[e]);return t};import{$ as U}from"./bootstrap-Bf65uz2I.js";import{E as _}from"./el-card-DGd_zL6P.js";import"./css-_QzOlLq8.js";import{E as A}from"./el-col-D5ifHzRC.js";import{E as O}from"./el-image-viewer-DlaFkWIK.js";import"./css-BBEQ4fog.js";import{E as z}from"./el-row-u3yI-Elm.js";/* empty css                *//* empty css                   *//* empty css                  */import{T as y}from"./Tag-BLqYdY0p.js";import{u as F}from"./dict-CsbZy8Qf.js";import{g as q,a as b,b as E}from"./resource-Vt4YTl0B.js";import{_ as I}from"./PreviewModal.vue_vue_type_script_setup_true_lang-DbqXkAAw.js";import{ElCheckbox as C}from"./index-p7kg-xKH.js";import{ElRadio as J}from"./index-C5wmh2tf.js";import{E as M}from"./index-CMBjNRIa.js";import{E as j}from"./index-Bpv3aWiu.js";import{k as G,o as H,r as v,w as K,m as T,n as s,J as n,B as m,p as Q,u as a,E as i,F as W,N as X,q as d,L as Y,y as D}from"../jse/index-index-D3Xb8oT_.js";const Z={class:"flex gap-1.5"},Ve=G({__name:"ResourceCardList",props:{data:{},multiple:{type:Boolean,default:!1},valueProp:{default:"id"}},emits:["update:modelValue"],setup(t,{emit:r}){const e=t,w=r;H(()=>{$()});const p=F();function $(){p.fetchDictionary("resourceType"),p.fetchDictionary("resourceOriginType")}const g=v(),c=v(""),x=v(!1);function N(){const u=[];if(e.multiple)for(const l of e.data)l.checkboxValue&&u.push(l);else if(c.value)for(const l of e.data)l[e.valueProp]===c.value&&u.push(l);w("update:modelValue",u)}function B(u){if(u)for(const l of e.data)l.checkboxValue=l[e.valueProp];else for(const l of e.data)l.checkboxValue=""}function L(u){g.value.openDialog(V({},u))}return K([()=>c.value,()=>e.data],()=>{N()},{deep:!0}),(u,l)=>(s(),T("div",null,[n(I,{ref_key:"previewDialog",ref:g},null,512),t.multiple?(s(),m(a(C),{key:0,label:a(U)("button.selectAll"),modelValue:x.value,"onUpdate:modelValue":l[0]||(l[0]=o=>x.value=o),onChange:B},null,8,["label","modelValue"])):Q("",!0),n(a(z),{gutter:20},{default:i(()=>[(s(!0),T(W,null,X(t.data,o=>(s(),m(a(A),{span:6,key:o.id,class:"mb-5"},{default:i(()=>[n(a(_),{"body-style":{padding:"12px",height:"285px"},shadow:"hover"},{default:i(()=>[d("div",null,[d("div",null,[t.multiple?(s(),m(a(C),{key:0,modelValue:o.checkboxValue,"onUpdate:modelValue":f=>o.checkboxValue=f,"true-value":o[t.valueProp],"false-value":""},null,8,["modelValue","onUpdate:modelValue","true-value"])):(s(),m(a(J),{key:1,modelValue:c.value,"onUpdate:modelValue":l[1]||(l[1]=f=>c.value=f),value:o[t.valueProp]},null,8,["modelValue","value"]))]),d("div",null,[n(a(O),{onClick:f=>L(o),src:a(q)(o),style:{width:"100%",height:"150px",cursor:"pointer"}},null,8,["onClick","src"])]),d("div",null,[n(a(M),{content:`${o.resourceName}.${o.suffix}`,placement:"top"},{default:i(()=>[n(a(j),{truncated:""},{default:i(()=>[Y(D(o.resourceName)+"."+D(o.suffix),1)]),_:2},1024)]),_:2},1032,["content"])]),d("div",Z,[n(y,{size:"small","background-color":`${a(b)(o)}15`,"text-color":a(b)(o),text:a(p).getDictLabel("resourceOriginType",o.origin)},null,8,["background-color","text-color","text"]),n(y,{size:"small","background-color":`${a(E)(o)}15`,"text-color":a(E)(o),text:a(p).getDictLabel("resourceType",o.resourceType)},null,8,["background-color","text-color","text"])])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]))}});export{Ve as _};
