import{bk as v}from"./bootstrap-Bf65uz2I.js";import{i as x}from"./aria-DEUWDJ1E.js";import{g as A,O as b,r as g,w as k,d as C,u as p,A as w}from"../jse/index-index-D3Xb8oT_.js";function y(l,{disabled:n,beforeFocus:e,afterFocus:c,beforeBlur:i,afterBlur:r}={}){const m=A(),{emit:o}=m,a=b(),u=g(!1),d=t=>{const s=C(e)?e(t):!1;p(n)||u.value||s||(u.value=!0,o("focus",t),c==null||c())},h=t=>{var s;const f=C(i)?i(t):!1;p(n)||t.relatedTarget&&((s=a.value)!=null&&s.contains(t.relatedTarget))||f||(u.value=!1,o("blur",t),r==null||r())},F=t=>{var s,f;p(n)||x(t.target)||(s=a.value)!=null&&s.contains(document.activeElement)&&a.value!==document.activeElement||(f=l.value)==null||f.focus()};return k([a,()=>p(n)],([t,s])=>{t&&(s?t.removeAttribute("tabindex"):t.setAttribute("tabindex","-1"))}),v(a,"focus",d,!0),v(a,"blur",h,!0),v(a,"click",F,!0),{isFocused:u,wrapperRef:a,handleFocus:d,handleBlur:h}}const E=l=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(l);function D({afterComposition:l,emit:n}){const e=g(!1),c=o=>{n==null||n("compositionstart",o),e.value=!0},i=o=>{var a;n==null||n("compositionupdate",o);const u=(a=o.target)==null?void 0:a.value,d=u[u.length-1]||"";e.value=!E(d)},r=o=>{n==null||n("compositionend",o),e.value&&(e.value=!1,w(()=>l(o)))};return{isComposing:e,handleComposition:o=>{o.type==="compositionend"?r(o):i(o)},handleCompositionStart:c,handleCompositionUpdate:i,handleCompositionEnd:r}}export{D as a,y as u};
