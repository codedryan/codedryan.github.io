var R=Object.defineProperty;var h=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var k=(l,a,n)=>a in l?R(l,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):l[a]=n,P=(l,a)=>{for(var n in a||(a={}))H.call(a,n)&&k(l,n,a[n]);if(h)for(var n of h(a))V.call(a,n)&&k(l,n,a[n]);return l};import{$ as e,Z as I,a3 as Q,Y as q,M as C,R as D}from"./bootstrap-Bf65uz2I.js";import"./css-gf8D6QlL.js";import{E as z,a as A,b as F}from"./el-dropdown-menu-v2KdT220.js";/* empty css                  *//* empty css                     */import{E as x}from"./el-message-box-B8o3mhYx.js";import"./css-C9o_OfXA.js";import"./el-overlay-Zuw8glOl.js";import{E as J,a as f}from"./el-table-JPhh2aff.js";import"./css-_QzOlLq8.js";/* empty css                   *//* empty css                        *//* empty css               */import{H as Y}from"./HeaderSearch-Dj9rqjlr.js";import{_ as Z}from"./PageData.vue_vue_type_script_setup_true_lang-DfbAOXk_.js";import{u as j}from"./dict-CsbZy8Qf.js";import{_ as G}from"./SysPositionModal.vue_vue_type_script_setup_true_lang-Bx3lVkSo.js";import{ElButton as _}from"./index-oBOAcXl-.js";import{k as K,o as O,r as B,S as U,H as W,m as S,n as N,J as i,q as T,E as s,u as t,L as p,y as m,I as X}from"../jse/index-index-D3Xb8oT_.js";import"./index-CMBjNRIa.js";import"./index-bT9OJj6t.js";import"./_overRest-Bb9G3v08.js";import"./index-B3qAv2kq.js";import"./aria-DEUWDJ1E.js";import"./index-Bxb6QITi.js";import"./use-form-common-props-IzjzSHax.js";import"./index-CbSmxnRE.js";import"./util-B2mB0_6C.js";import"./castArray-BBset58W.js";import"./refs-D6FW0B1r.js";import"./index-BjDsryRX.js";import"./event-BB_Ol6Sd.js";import"./index-C33Sf0pH.js";import"./use-form-item-DVWmmqeW.js";import"./index-m1ZP1zbM.js";import"./validator-D2YZey62.js";import"./vnode-DysYOGZN.js";import"./scroll-C2492Iw_.js";import"./merge-BysAs727.js";import"./_baseClone-trfKWgGN.js";import"./isArrayLikeObject-j3RaJGb0.js";import"./_baseSlice-DZe_dRSe.js";import"./_baseIteratee-rJjBrWyx.js";import"./debounce-AsHllEOy.js";import"./toNumber-CvayJyp9.js";import"./index-p7kg-xKH.js";import"./index-Dg3fRnQE.js";import"./omit-CbyqVLxv.js";import"./index-pv0R11Cf.js";import"./raf-BVBe43_O.js";import"./hasPermission-CIdLHqw4.js";import"./el-empty-CDAlv280.js";import"./el-pagination-W2lJTIgw.js";import"./index-DcZY4wgD.js";import"./index-DGdiZ7pE.js";import"./useProps-DNCnrLfW.js";import"./_baseFindIndex-D7XfJLKM.js";import"./strings-CGsg9AfI.js";import"./clamp-CeuJyDnc.js";/* empty css                  */import"./el-dialog-CAR1-R4U.js";/* empty css                */import"./el-form-item-8FQp7Cs4.js";import"./css-B4xXAc0m.js";import"./DictSelect-DdOvS-6R.js";import"./index-9UPoHQm1.js";import"./index-BKzCwxYe.js";const tt={class:"flex h-full flex-col gap-6 p-6"},et={class:"bg-background border-border flex-1 rounded-lg border p-5"},ot={class:"flex items-center gap-3"},ye=K({__name:"SysPositionList",setup(l){O(()=>{E()});const a=B(),n=B(),g=j(),w=[{key:"create",text:e("button.add"),icon:U(I),type:"primary",data:{action:"create"},permission:"/api/v1/sysPosition/save"}];function E(){g.fetchDictionary("dataStatus")}const $=r=>{a.value.setQuery({positionName:r})};function y(r){r==null||r.resetFields(),a.value.setQuery({})}function b(r){n.value.openDialog(P({},r))}function L(r){const c=r.status===1?0:1,d=c===1?e("sysPosition.enable"):e("sysPosition.disable");x.confirm(e("sysPosition.message.title",{actionText:d,positionName:r.positionName}),e("message.noticeTitle"),{confirmButtonText:e("message.ok"),cancelButtonText:e("message.cancel"),type:"warning"}).then(()=>{C.post("/api/v1/sysPosition/changeStatus",{id:r.id,status:c}).then(u=>{u.errorCode===0&&(D.success(e("ui.actionMessage.operationSuccess")),a.value.reload())})}).catch(()=>{})}function M(r){x.confirm(e("message.deleteAlert"),e("message.noticeTitle"),{confirmButtonText:e("message.ok"),cancelButtonText:e("message.cancel"),type:"warning",beforeClose:(c,d,u)=>{c==="confirm"?(d.confirmButtonLoading=!0,C.post("/api/v1/sysPosition/remove",{id:r.id}).then(o=>{d.confirmButtonLoading=!1,o.errorCode===0&&(D.success(o.message),y(),u())}).catch(()=>{d.confirmButtonLoading=!1})):u()}}).catch(()=>{})}return(r,c)=>{const d=W("access");return N(),S("div",tt,[i(G,{ref_key:"saveDialog",ref:n,onReload:y},null,512),i(Y,{buttons:w,onSearch:$,onButtonClick:c[0]||(c[0]=u=>b({}))}),T("div",et,[i(Z,{ref_key:"pageDataRef",ref:a,"page-url":"/api/v1/sysPosition/page","page-size":10},{default:s(({pageList:u})=>[i(t(J),{data:u,border:""},{default:s(()=>[i(t(f),{prop:"positionName",label:t(e)("sysPosition.positionName")||"岗位名称"},{default:s(({row:o})=>[p(m(o.positionName),1)]),_:1},8,["label"]),i(t(f),{prop:"positionCode",label:t(e)("sysPosition.positionCode")||"岗位编码"},{default:s(({row:o})=>[p(m(o.positionCode),1)]),_:1},8,["label"]),i(t(f),{prop:"sortNo",label:t(e)("sysPosition.sortNo")||"排序",width:"80",align:"center"},{default:s(({row:o})=>[p(m(o.sortNo),1)]),_:1},8,["label"]),i(t(f),{prop:"status",label:t(e)("sysPosition.status")||"状态",width:"100",align:"center"},{default:s(({row:o})=>[i(t(_),{type:o.status===1?"success":"info",link:"",onClick:v=>L(o)},{default:s(()=>[p(m(t(g).getDictLabel("dataStatus",o.status)||(o.status===1?t(e)("sysPosition.enable"):t(e)("sysPosition.disable"))),1)]),_:2},1032,["type","onClick"])]),_:1},8,["label"]),i(t(f),{prop:"created",label:t(e)("sysPosition.created"),width:"180"},{default:s(({row:o})=>[p(m(o.created),1)]),_:1},8,["label"]),i(t(f),{prop:"remark",label:t(e)("sysPosition.remark")},{default:s(({row:o})=>[p(m(o.remark),1)]),_:1},8,["label"]),i(t(f),{label:t(e)("common.handle"),width:"90",align:"right"},{default:s(({row:o})=>[T("div",ot,[i(t(_),{link:"",type:"primary",onClick:v=>b(o)},{default:s(()=>[p(m(t(e)("button.edit")),1)]),_:1},8,["onClick"]),i(t(z),null,{dropdown:s(()=>[i(t(A),null,{default:s(()=>[X((N(),S("div",null,[i(t(F),{onClick:v=>M(o)},{default:s(()=>[i(t(_),{type:"danger",icon:t(q),link:""},{default:s(()=>[p(m(t(e)("button.delete")),1)]),_:1},8,["icon"])]),_:1},8,["onClick"])])),[[d,"/api/v1/sysPosition/remove","code"]])]),_:2},1024)]),default:s(()=>[i(t(_),{link:"",icon:t(Q)},null,8,["icon"])]),_:2},1024)])]),_:1},8,["label"])]),_:1},8,["data"])]),_:1},512)])])}}});export{ye as default};
