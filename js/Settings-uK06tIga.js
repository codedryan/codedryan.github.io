import{$ as r,M as d,R as O,_ as B}from"./bootstrap-Bf65uz2I.js";import{E as M}from"./el-alert-DFDoDStD.js";import"./css-gf8D6QlL.js";/* empty css                */import{a as p,E as S}from"./el-form-item-8FQp7Cs4.js";import"./css-C9o_OfXA.js";/* empty css                  *//* empty css               *//* empty css                     *//* empty css                  */import{p as h}from"./providerList-IOY-GpS5.js";import{E as F,a as L}from"./index-DcZY4wgD.js";import{ElInput as s}from"./index-BjDsryRX.js";import{ElButton as N}from"./index-oBOAcXl-.js";import{k as U,r as m,o as w,m as f,n as u,q as c,J as n,y as v,u as t,E as i,F as I,N as A,B as $,L as q}from"../jse/index-index-D3Xb8oT_.js";import"./index-CMBjNRIa.js";import"./index-bT9OJj6t.js";import"./_overRest-Bb9G3v08.js";import"./index-B3qAv2kq.js";import"./aria-DEUWDJ1E.js";import"./index-Bxb6QITi.js";import"./use-form-common-props-IzjzSHax.js";import"./castArray-BBset58W.js";import"./_baseClone-trfKWgGN.js";import"./index-CbSmxnRE.js";import"./util-B2mB0_6C.js";import"./index-DGdiZ7pE.js";import"./useProps-DNCnrLfW.js";import"./_baseFindIndex-D7XfJLKM.js";import"./_baseIteratee-rJjBrWyx.js";import"./strings-CGsg9AfI.js";import"./use-form-item-DVWmmqeW.js";import"./index-m1ZP1zbM.js";import"./event-BB_Ol6Sd.js";import"./scroll-C2492Iw_.js";import"./clamp-CeuJyDnc.js";import"./toNumber-CvayJyp9.js";import"./index-pv0R11Cf.js";import"./vnode-DysYOGZN.js";import"./index-C33Sf0pH.js";import"./index-Dg3fRnQE.js";const D={class:"settings-container"},J={class:"settings-config-container border-border border"},K={class:"mb-6"},R={class:"settings-button-container"},T=U({__name:"Settings",setup(j){const b=m(h),y=m([]),V=m([]);function k(){d.get("/api/v1/modelProvider/list").then(l=>{l.errorCode===0&&(y.value=l.data,V.value=C(l.data))})}function E(){d.get("/api/v1/sysOption/list?keys=model_of_chat&keys=chatgpt_endpoint&keys=chatgpt_chatPath&keys=chatgpt_api_key&keys=chatgpt_model_name").then(l=>{l.errorCode===0&&(o.value=l.data)})}w(()=>{E(),k()});const o=m({model_of_chat:"",chatgpt_api_key:"",chatgpt_chatPath:"",chatgpt_endpoint:"",chatgpt_model_name:""});function C(l){return l.map(e=>{var _,g;const a=new Map([["chatPath",(_=e.options)==null?void 0:_.chatPath],["llmEndpoint",(g=e.options)==null?void 0:g.llmEndpoint]]);return{label:e.title,value:e.key,extra:a}})}function P(l){const e=h.find(a=>a.value===l);o.value.chatgpt_chatPath=e.options.chatPath,o.value.chatgpt_endpoint=e.options.llmEndpoint}function x(){d.post("/api/v1/sysOption/save",o.value).then(l=>{l.errorCode===0&&O.success(r("message.saveOkMessage"))})}return(l,e)=>(u(),f("div",D,[c("div",J,[c("div",K,v(t(r)("settingsConfig.systemAIFunctionSettings")),1),n(t(M),{class:"!mb-5",title:t(r)("settingsConfig.note"),type:"warning"},null,8,["title"]),n(t(S),{model:o.value,class:"demo-form-inline","label-width":"150px"},{default:i(()=>[n(t(p),{label:t(r)("settingsConfig.modelOfChat")},{default:i(()=>[n(t(F),{modelValue:o.value.model_of_chat,"onUpdate:modelValue":e[0]||(e[0]=a=>o.value.model_of_chat=a),clearable:"",onChange:P},{default:i(()=>[(u(!0),f(I,null,A(b.value,a=>(u(),$(t(L),{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),n(t(p),{label:t(r)("settingsConfig.modelName")},{default:i(()=>[n(t(s),{modelValue:o.value.chatgpt_model_name,"onUpdate:modelValue":e[1]||(e[1]=a=>o.value.chatgpt_model_name=a),clearable:""},null,8,["modelValue"])]),_:1},8,["label"]),n(t(p),{label:"Endpoint"},{default:i(()=>[n(t(s),{modelValue:o.value.chatgpt_endpoint,"onUpdate:modelValue":e[2]||(e[2]=a=>o.value.chatgpt_endpoint=a),clearable:""},null,8,["modelValue"])]),_:1}),n(t(p),{label:"ChatPath"},{default:i(()=>[n(t(s),{modelValue:o.value.chatgpt_chatPath,"onUpdate:modelValue":e[3]||(e[3]=a=>o.value.chatgpt_chatPath=a),clearable:""},null,8,["modelValue"])]),_:1}),n(t(p),{label:"ApiKey"},{default:i(()=>[n(t(s),{modelValue:o.value.chatgpt_api_key,"onUpdate:modelValue":e[4]||(e[4]=a=>o.value.chatgpt_api_key=a),clearable:""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),c("div",R,[n(t(N),{type:"primary",onClick:x},{default:i(()=>[q(v(t(r)("button.save")),1)]),_:1})])])]))}}),Nt=B(T,[["__scopeId","data-v-6a4d369c"]]);export{Nt as default};
