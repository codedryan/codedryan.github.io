import{$ as i,M as A,R as M}from"./bootstrap-Bf65uz2I.js";import"./css-gf8D6QlL.js";import{E as R}from"./el-dialog-CAR1-R4U.js";import"./el-overlay-Zuw8glOl.js";/* empty css                */import{E as q,a as c}from"./el-form-item-8FQp7Cs4.js";import"./css-C9o_OfXA.js";import{ElInput as v}from"./index-BjDsryRX.js";import{ElButton as y}from"./index-oBOAcXl-.js";import{k as C,o as F,r as u,B as K,n as P,E as s,J as r,u as e,L as b,y as g}from"../jse/index-index-D3Xb8oT_.js";const z=C({__name:"SysApiKeyResourcePermissionModal",emits:["reload"],setup(B,{expose:V,emit:_}){const E=_;F(()=>{}),V({openDialog:I});const f=u(),d=u(!1),m=u(!0),a=u({requestInterface:"",title:""}),n=u(!1),k=u({});function I(l){l.id&&(m.value=!1),a.value=l,d.value=!0}function x(){var l;(l=f.value)==null||l.validate(t=>{t&&(n.value=!0,A.post(m.value?"api/v1/sysApiKeyResourcePermission/save":"api/v1/sysApiKeyResourcePermission/update",a.value).then(o=>{n.value=!1,o.errorCode===0&&(M.success(o.message),E("reload"),p())}).catch(()=>{n.value=!1}))})}function p(){var l;(l=f.value)==null||l.resetFields(),m.value=!0,a.value={},d.value=!1}return(l,t)=>(P(),K(e(R),{modelValue:d.value,"onUpdate:modelValue":t[2]||(t[2]=o=>d.value=o),draggable:"",title:m.value?e(i)("button.add"):e(i)("button.edit"),"before-close":p,"close-on-click-modal":!1},{footer:s(()=>[r(e(y),{onClick:p},{default:s(()=>[b(g(e(i)("button.cancel")),1)]),_:1}),r(e(y),{type:"primary",onClick:x,loading:n.value,disabled:n.value},{default:s(()=>[b(g(e(i)("button.save")),1)]),_:1},8,["loading","disabled"])]),default:s(()=>[r(e(q),{"label-width":"120px",ref_key:"saveForm",ref:f,model:a.value,"status-icon":"",rules:k.value},{default:s(()=>[r(e(c),{prop:"requestInterface",label:e(i)("sysApiKeyResourcePermission.requestInterface")},{default:s(()=>[r(e(v),{modelValue:a.value.requestInterface,"onUpdate:modelValue":t[0]||(t[0]=o=>a.value.requestInterface=o),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1},8,["label"]),r(e(c),{prop:"title",label:e(i)("sysApiKeyResourcePermission.title")},{default:s(()=>[r(e(v),{modelValue:a.value.title,"onUpdate:modelValue":t[1]||(t[1]=o=>a.value.title=o),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"]))}});export{z as _};
